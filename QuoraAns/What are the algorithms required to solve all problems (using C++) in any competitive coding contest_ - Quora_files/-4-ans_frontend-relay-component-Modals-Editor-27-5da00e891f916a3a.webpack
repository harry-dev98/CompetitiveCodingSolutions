(window.ansFrontendRelayWebpackJsonpFunction=window.ansFrontendRelayWebpackJsonpFunction||[]).push([["component-Modals-Editor"],{"3oqD":function(e,n,t){"use strict";t.d(n,"a",function(){return a}),t.d(n,"b",function(){return h});var a,l=t("8ZkK"),i=t.n(l),r=t("tQZz"),s=t.n(r),o=t("7eVb"),u=t.n(o),d=t("n3k3"),c=t.n(d),m=t("10u2"),g=t.n(m),p=t("q1tI"),f=t("/bbo"),k=t("4of9"),b=t("ibv5"),y=t("AjMn"),v=t("jufJ");!function(e){e[e.PUBLIC=0]="PUBLIC",e[e.ANON=1]="ANON",e[e.LIMITED=2]="LIMITED"}(a||(a={}));var h=function(e){function n(){return i()(this,n),u()(this,c()(n).apply(this,arguments))}return g()(n,e),s()(n,[{key:"render",value:function(){var e,n,t=this.props,l=t.currentState,i=t.onClick;return l===a.PUBLIC?(n=Object(v.I)("Public"),e=p.createElement(y.a,null)):l===a.ANON?(n=Object(v.I)("Anonymous"),e=p.createElement(k.a,null)):l===a.LIMITED&&(n=Object(v.I)("Limited"),e=p.createElement(b.a,null)),p.createElement(f.a,{onClick:i,variant:"gray",icon:e,text:n,size:"small",chevronSuffix:"down"})}}]),n}(p.Component);h.displayName="AskQuestionDistributionSwitcher"},"3v16":function(e,n,t){"use strict";t.d(n,"b",function(){return ee}),t.d(n,"a",function(){return ae});var a={};t.r(a),t.d(a,"default",function(){return k});var l={};t.r(l),t.d(l,"default",function(){return y});var i=t("8ZkK"),r=t.n(i),s=t("tQZz"),o=t.n(s),u=t("7eVb"),d=t.n(u),c=t("n3k3"),m=t.n(c),g=t("10u2"),p=t.n(g),f=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"AskQuestionStepShareLink_viewer",type:"Viewer",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[e,n,{kind:"FragmentSpread",name:"UserPhoto_user",args:null},{kind:"FragmentSpread",name:"UserName_user",args:null}]},{kind:"FragmentSpread",name:"AudiencePickerSelector_viewer",args:null}]}}();f.hash="cc9395e47c35982abc819a17933d8406";var k=f,b=function(){var e=[{kind:"LocalArgument",name:"url",type:"String!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"linkPreview",storageKey:null,args:[{kind:"Variable",name:"url",variableName:"url"}],concreteType:"LinkPreview",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"snippet",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"imageUrl",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"AskQuestionStepShareLinkQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"AskQuestionStepShareLinkQuery",argumentDefinitions:e,selections:n},params:{operationKind:"query",name:"AskQuestionStepShareLinkQuery",id:"59acd169d67ab24e171d50f33ffd6a3aa101abf5abf215a28892ce0e846ce1c0",text:null,metadata:{}}}}();b.hash="b64ce330b050ddfa2d69f5be640a1e96";var y=b,v=t("q1tI"),h=t("zSrG"),S=t("D5Zh"),T=t("yX6U"),E=t("RA+f"),F=t("rAPm"),C=t("6Gvz"),w=t("jufJ"),K=t("F6zL"),A=t("r+vq"),I=t("R+um"),L=t("td6z"),_=t("F0ZP"),O=function(e){var n=window.decodeURIComponent(e);return n=n.trim().replace(/\s/g,""),/^(:\/\/)/.test(n)?"http".concat(n):/^(f|ht)tps?:\/\//i.test(n)?n:"http://".concat(n)},q=t("ECID"),Q=t("/bbo"),P=t("GLiI"),M=t("NldC"),D=function(e){return/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-zA-Z\u00a1-\uffff0-9]+)(?:\.(?:[a-zA-Z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-zA-Z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/.test(e)};(function(e){function n(e){var t;return r()(this,n),(t=d()(this,m()(n).call(this,e))).state={url:"",hyperlinkComment:"",hyperlinkShareToFollowers:!1,updateKey:!0},t}return p()(n,e),o()(n,[{key:"updateUrl",value:function(e){var n,t,a,l,i=O(e);D(i)?(this.setState({url:i}),null===(n=(t=this.props).onShareLinkChange)||void 0===n||n.call(t,{hyperlinkUrl:i})):(this.setState({url:""}),null===(a=(l=this.props).onShareLinkChange)||void 0===a||a.call(l,{hyperlinkUrl:""}))}},{key:"clear",value:function(){this.setState(function(e){return{url:"",updateKey:!e.updateKey}})}},{key:"close",value:function(){var e,n;this.clear(),null===(e=(n=this.props).onClose)||void 0===e||e.call(n)}},{key:"render",value:function(){var e=this;return v.createElement(v.Fragment,null,v.createElement(E.d,{mt:"small",borderAll:!0,borderRadius:"small",px:"small",py:"medium"},v.createElement(E.q,null,v.createElement(E.a,{right:"n_medium",top:"n_large",zIndex:"popover"},v.createElement(Q.a,{size:"small",variant:"gray",icon:v.createElement(P.a,null),onClick:function(){return e.close()}})),v.createElement(K.c,{icon:v.createElement(q.a,null),placeholder:Object(w.I)("Enter a link"),onChange:function(n){return e.updateUrl(n.target.value)},noBorder:!0,key:""+this.state.updateKey,autoFocus:!0}),v.createElement(ae,{url:this.state.url,onClear:M.h,showX:!1}))))}}]),n}(v.Component)).displayName="ShareLinkInput";var x,R,N=t("rQ/h"),j=t("PuWf"),V=t("n2ec"),U=t("cbxS"),B=t("WIX1"),H=t("nwxp"),z=t("AFGi"),J=t("wB5M"),Z=t("nW6E"),W=t("4oNN"),Y=t("AaDK"),G=t("SW3P"),X=t("VyO/"),$=t("sP50"),ee=44,ne=void 0!==x?x:x=l,te=function(e){function n(e){var t;return r()(this,n),(t=d()(this,m()(n).call(this,e))).handleOnSelectorChange=function(e){var n=e.tribe,a=e.hyperlinkShareToFollowers;t.setState({hyperlinkShareToFollowers:a}),t.props.onShareLinkChange({hyperlinkTribe:n,hyperlinkShareToFollowers:a,addToTribeContentQueue:!1})},t.state={url:"",hyperlinkComment:"",hyperlinkShareToFollowers:!1,updateKey:!0},t}return p()(n,e),o()(n,[{key:"updateUrl",value:function(e){var n=O(e),t=D(n);Object(Y.a)("ask_question_link",{text:e,is_valid:t,is_react:!0}),t?(this.setState({url:n}),this.props.onShareLinkChange({hyperlinkUrl:n})):this.props.onShareLinkChange({hyperlinkUrl:""})}},{key:"updateContentQueueState",value:function(e){this.props.onShareLinkChange({addToTribeContentQueue:e})}},{key:"renderAudiencePicker",value:function(){var e=this,n=this.props,t=n.viewer,a=n.audiencePickerHeight,l=n.selectedTribe,i=this.state.hyperlinkShareToFollowers?Object(w.I)("Your followers"):l?v.createElement(E.j,{alignItems:"center"},v.createElement(V.a,{tribe:l,linked:!1,size:18,mr:"tiny"}),v.createElement(j.a,{tribe:l})):Object(w.I)("Choose a space");return H.g?null:H.f?v.createElement(Z.a,{modalFlowProps:{transitionName:"StandaloneModal",initialModalProps:{name:"AudiencePickerSelector"},initialFlowData:{},containerProps:{easyDismissEnabled:!0,legacy:!1,mobileHeight:a},postDismissCallback:function(n){if(n){var t=n.tribe,a=n.hyperlinkShareToFollowers;null==t&&null==a||e.handleOnSelectorChange({tribe:t,hyperlinkShareToFollowers:a})}}}},function(e){var n=e.openModalFlow;return v.createElement(Q.a,{variant:"gray",icon:l?null:v.createElement(B.a,null),text:i,size:"small",chevronSuffix:"down",ml:"small",onClick:function(){n()}})}):v.createElement(N.a,{reference:v.createElement(Q.a,{variant:"gray",icon:l?null:v.createElement(B.a,null),text:i,size:"small",chevronSuffix:"down",ml:"small"}),minWidth:210,minHeight:300,maxHeight:"55vh",placement:"right-start",borderColor:"gray",isInModal:!0},function(n){var a=n.hideMenu;return v.createElement($.a,{contentType:ee,viewer:t,onSelectorChange:function(n){e.handleOnSelectorChange(n),a()}})})}},{key:"render",value:function(){var e,n=this,t=this.props,a=t.viewer,l=t.selectedTribe,i=t.addToTribeContentQueue,r=a.user;if(!r)return null;var s=!!l&&(!l.viewerCanContribute&&(null===(e=l.settings)||void 0===e?void 0:e.isSubmissionEnabled)),o=!!l&&(l.viewerCanContribute&&l.viewerCanCreateContentQueueItem),u=l?l.submissionRules:null,d=H.h&&!0===Object(G.a)("tribe_add_to_queue_from_question_asking_react")&&o;return v.createElement(E.d,{mt:H.b?"huge":"medium",mb:"medium"},v.createElement(_.h,null,v.createElement(_.e,null,v.createElement(A.a,{user:r})),v.createElement(_.g,null,v.createElement(E.j,{alignItems:"center"},v.createElement(w.y,null,v.createElement(I.a,{user:r})," shared"),this.renderAudiencePicker()))),s&&v.createElement(le,{submissionRules:u}),d&&v.createElement(W.a,{alignment:"bottom",menuItems:[{label:Object(w.I)("Post now"),isCheckable:!0,closeOnClick:!0,isOn:!i,onSelected:function(){return n.updateContentQueueState(!1)}},{label:Object(w.I)("Add to queue"),isCheckable:!0,closeOnClick:!0,isOn:i,onSelected:function(){return n.updateContentQueueState(!0)}}],title:Object(w.I)("Settings")},function(e){return v.createElement(Q.a,{size:"small",variant:"gray",onClick:e,chevronSuffix:"down",fullWidth:!0,text:i?Object(w.I)("Add to queue"):Object(w.I)("Post now")})}),v.createElement(E.d,{py:"small"},v.createElement(K.c,{placeholder:Object(w.I)("Say something about this..."),onChange:function(e){return n.updateLinkShareText(e.target.value)},noBorder:!0,charLimit:this.props.shareCommentMaxLength,useSoftCharLimit:!0,useTextArea:!0,autosize:!0})),v.createElement(E.d,{mt:"small",borderAll:!0,borderRadius:"small",p:"small"},v.createElement(K.c,{icon:v.createElement(T.a,null),placeholder:Object(w.I)("Enter a link"),onChange:function(e){return n.updateUrl(e.target.value)},noBorder:!0,key:""+this.state.updateKey,autoFocus:!0}),v.createElement(ae,{url:this.state.url,onClear:function(){return n.setState(function(e){return{url:"",updateKey:!e.updateKey}})}})))}},{key:"updateLinkShareText",value:function(e){this.props.onShareLinkChange({hyperlinkComment:e}),this.setState({hyperlinkComment:e})}}]),n}(v.Component);te.displayName="AskQuestionStepShareLink",te.queries={linkPreview:ne},te.fragments={viewer:void 0!==R?R:R=a};n.c=Object(X.b)(te);var ae=function(e){function n(){return r()(this,n),d()(this,m()(n).apply(this,arguments))}return p()(n,e),o()(n,[{key:"renderContent",value:function(e,n,t){return v.createElement(E.d,{pr:15},this.props.showX&&v.createElement(E.a,{right:"tiny",top:"tiny"},v.createElement(Q.a,{size:"small",variant:"gray",icon:v.createElement(P.a,null),onClick:this.props.onClear})),e&&v.createElement(E.s,{bold:!0},e),t&&v.createElement(E.s,{truncateLines:3},t),v.createElement(F.a,{truncateLines:1,mt:"small",style:{wordBreak:"break-all"}},n))}},{key:"render",value:function(){var e=this,n=this.props.url;return n&&v.createElement(S.a,{query:ne,variables:{url:n}},function(n){var t=n.loading,a=n.error,l=n.data;if(t)return v.createElement(L.a,null);if(a)return v.createElement(C.a,{color:"red_error"},a);var i=l.linkPreview;if(!i)return null;var r=i.url,s=i.title,o=i.snippet,u=i.imageUrl;return r?v.createElement(h.a,{imageUrl:u,content:e.renderContent(s,r,o),bg:"gray_ultralight",compact:!0,hover:!1}):null})}}]),n}(v.Component);ae.displayName="AskQuestionStepShareLinkEmbedPreview",ae.defaultProps={showX:!0};var le=function(e){function n(){return r()(this,n),d()(this,m()(n).apply(this,arguments))}return p()(n,e),o()(n,[{key:"render",value:function(){var e=this.props.submissionRules,n=JSON.parse(e),t=Object(z.k)(n),a=H.f?60:90;return v.createElement(U.a,{variant:"muted",my:"small",dismissable:!1},t?v.createElement(E.s,null,v.createElement(w.y,null,"This space's admins will review your submission before it's posted. You'll be notified when it's approved.")):v.createElement(J.a,{qt:n,charLimit:a,truncationType:"regular"}))}}]),n}(v.Component);le.displayName="TribeSubmissionBanner"},"4oNN":function(e,n,t){"use strict";t("A1Fw");var a=t("8ZkK"),l=t.n(a),i=t("tQZz"),r=t.n(i),s=t("7eVb"),o=t.n(s),u=t("n3k3"),d=t.n(u),c=t("10u2"),m=t.n(c),g=t("g8yt"),p=t.n(g),f=t("rhDr"),k=t.n(f),b=t("q1tI"),y=t("bmMU"),v=t.n(y),h=t("Gnru"),S=t("nwxp"),T=t("yju1"),E=t("VyO/"),F=t("jb/u"),C=t("85N6"),w=t("HEDm"),K=t("cBSy"),A=t("pVu1"),I=t("RA+f"),L=t("jufJ"),_=function(e){var n=e.children,t=e.onClick;return b.createElement(I.d,{width:"max-content",maxWidth:"230px",onClick:t},n)},O=function(e){var n=e.children,t=(e.hasIcon,k()(e,["children","hasIcon"]));return b.createElement(I.j,Object.assign({px:"medium",py:"small",cursor:"pointer",bg:"white",alignItems:"center",justifyContent:"space-between",transition:"background-color",hover:{bg:"gray_ultralight"}},t),n)},q=function(e){function n(e){var t;return l()(this,n),(t=o()(this,d()(n).call(this,e))).openActionSheet=function(e,n,a,l){var i=n.filter(function(e){return!e.shouldHide}),r=i.findIndex(function(e){return e.isDestructive});Object(T.a)("showActionSheet",{title:e,buttonTitles:i.map(function(e){var n=e.label;return e.badge&&(n=Object(L.J)("".concat(n," *"))),e.isOn&&(n=Object(L.J)("".concat(n," \u2713"))),n}),buttonSubtitles:i.map(function(e){return e.subLabel||Object(L.I)("")}),destructiveButtonIndex:r},function(e){var n=e.buttonIndex,r=i[n];r&&setTimeout(t.handleItemClick.bind(p()(p()(t)),r,a,l),100)})},t.handleItemClick=function(e,n,t){var a,l,i;if(e.onSelected&&e.onSelected(n),(null===e||void 0===e?void 0:null===(a=e.feedLoggingType)||void 0===a?void 0:a.loggingName)&&(null===(l=null===e||void 0===e?void 0:null===(i=e.feedLoggingType)||void 0===i?void 0:i.shouldLog)||void 0===l||l)){var r={};e.feedLoggingType.metadata&&(r=e.feedLoggingType.metadata),t(e.feedLoggingType.loggingName,r)}},t.hideMenu=function(){t.setState({hidden:!0})},t.toggleMenu=function(){t.setState(function(e){return{hidden:!e.hidden}})},t.renderDesktop=function(e){var n=t.props,a=n.menuItems,l=n.enableOverflowFlip,i=n.onClick,r=a.filter(function(e){return!e.shouldHide}),s=b.createElement(_,{onClick:i},r.map(function(n,a){var l,i=n.closeOnClick;return i===undefined&&(i=!n.isCheckable),b.createElement(O,{key:n.id||a,hasIcon:b.createElement(w.a,{color:n.iconColor},n.icon),onClick:function(){i&&t.hideMenu(),t.handleItemClick(n,t.props.client,e)}},b.createElement(I.j,{alignItems:"center"},n.icon,b.createElement(I.s,{fontSize:"small",color:"gray_dark",ml:null!==(l=n.icon?"tiny":null)&&void 0!==l?l:undefined},n.label,n.subLabel&&b.createElement(I.s,{color:"gray"},n.subLabel))),b.createElement(I.d,{width:"20px"},n.isCheckable&&n.isOn&&b.createElement(I.d,{mx:"tiny"},b.createElement(w.a,{color:"blue",size:16},b.createElement(F.a,null)))))})),o=t.props.children(t.toggleMenu);return b.createElement(I.j,{alignItems:"flex-end"},b.createElement(C.a,{onClickAway:t.hideMenu,mouseEvent:"onMouseUp"},b.createElement(A.a,{placement:t.props.alignment,enableOverflowFlip:l,reference:o,open:!t.state.hidden,enableOpacity:!1,bg:"white",isInModal:t.props.isInModal},function(){return b.createElement(K.a,null,s)})))},S.h||(t.state={hidden:!t.props.forceOpen}),t}return m()(n,e),r()(n,[{key:"shouldComponentUpdate",value:function(e,n){return!v()(this.props,e)||!v()(this.state,n)}},{key:"render",value:function(){var e=this,n=this.props,t=n.title,a=n.menuItems,l=n.client,i=n.children,r=n.forceOpen;return b.createElement(h.ClientLogConsumer,null,function(n){return S.h||S.g?(Object(b.useEffect)(function(){var i;return r&&(i=setTimeout(e.openActionSheet(t,a,l,n),1e3)),function(){return clearTimeout(i)}},[n]),i&&i instanceof Function?i(function(){return e.openActionSheet(t,a,l,n)}):null):e.renderDesktop(n)})}}]),n}(b.Component);q.defaultProps={menuItems:[],forceOpen:!1,title:Object(L.J)(""),alignment:"left",enableOverflowFlip:!0,isInModal:!1};n.a=Object(E.e)(q)},"4of9":function(e,n,t){"use strict";var a=t("q1tI"),l=t.n(a),i=function(e){return l.a.createElement("svg",Object.assign({width:"24px",height:"24px",viewBox:"0 0 24 24"},e),l.a.createElement("g",{stroke:"none",fill:"none",fillRule:"evenodd",strokeDasharray:"0,3",strokeLinecap:"round"},l.a.createElement("g",{className:"icon_svg-stroke",id:"Group",transform:"translate(6.000000, 4.000000)",stroke:"#666666"},l.a.createElement("path",{d:"M12,17 C12,13.6862915 9.3137085,11 6,11 C2.6862915,11 0,13.6862915 0,17",id:"Shape"}),l.a.createElement("path",{d:"M6,8 C8.209139,8 10,6.209139 10,4 C10,1.790861 8.209139,0 6,0 C3.790861,0 2,1.790861 2,4 C2,6.209139 3.790861,8 6,8 Z",id:"Oval"}))))};i.displayName="SvgAnon",n.a=i},"4r9s":function(e,n,t){"use strict";t.r(n),t.d(n,"default",function(){return F});var a={};t.r(a),t.d(a,"default",function(){return k});var l=t("8ZkK"),i=t.n(l),r=t("tQZz"),s=t.n(r),o=t("7eVb"),u=t.n(o),d=t("n3k3"),c=t.n(d),m=t("10u2"),g=t.n(m),p=function(){var e={kind:"ScalarField",alias:null,name:"hasNetworkAdminAccess",args:null,storageKey:null},n={kind:"ScalarField",alias:"questionPoliciesUrl",name:"linkUrl",args:[{kind:"Literal",name:"name",value:"question_policies"}],storageKey:'linkUrl(name:"question_policies")'},t={kind:"ScalarField",alias:"spamUrl",name:"linkUrl",args:[{kind:"Literal",name:"name",value:"what_is_spam"}],storageKey:'linkUrl(name:"what_is_spam")'},a={kind:"ScalarField",alias:"bnbrUrl",name:"linkUrl",args:[{kind:"Literal",name:"name",value:"bnbr"}],storageKey:'linkUrl(name:"bnbr")'},l={kind:"ScalarField",alias:"vandalismUrl",name:"linkUrl",args:[{kind:"Literal",name:"name",value:"vandalism_policy"}],storageKey:'linkUrl(name:"vandalism_policy")'},i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"OperationRevertModalQuery",type:"QueryRoot",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[n,t,a,l]}]}]},operation:{kind:"Operation",name:"OperationRevertModalQuery",argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[n,t,a,l,i]},i]}]},params:{operationKind:"query",name:"OperationRevertModalQuery",id:"4beba294ae88e816542ec84782883c7dbb6e6503a9fe26ca24d7d376c76718e2",text:null,metadata:{}}}}();p.hash="e6d5d9dac6ee92bc20a73bd925762616";var f,k=p,b=t("q1tI"),y=t("jufJ"),v=t("zm58"),h=t("AFGi"),S=t("/UD8"),T=t("D5Zh"),E=t("RA+f"),F=function(e){function n(e){var t;return i()(this,n),(t=u()(this,c()(n).call(this,e))).state={},t}return g()(n,e),s()(n,[{key:"render",value:function(){var e=this,t=this.props,a=t.extraProps,l=t.dismissModalFlow,i=a.opid;return b.createElement(T.a,{query:n.queries.loadModal},function(n){var t,a,r=n.data,s=e.state.startingContent?e.state.startingContent:(null===r||void 0===r?void 0:null===(t=r.viewer)||void 0===t?void 0:t.hasNetworkAdminAccess)?Object(y.I)(b.createElement(b.Fragment,null,"This edit does not comply with Quora","'","s policies and guidelines. Please see:"," ",b.createElement(y.A,{text:r.viewer.network.questionPoliciesUrl,translateParamName:"url"}))):"",o=b.createElement(E.s,null,b.createElement(y.y,null,"Comment (optional):"));if(null===r||void 0===r?void 0:null===(a=r.viewer)||void 0===a?void 0:a.hasNetworkAdminAccess){var u=b.createElement(S.b,{name:"revert-reason",onChange:function(n){return e.setState({startingContent:n.target.value})},selected:e.state.startingContent,buttons:[{title:b.createElement(y.y,null,"Spam"),value:Object(y.I)(b.createElement(b.Fragment,null,"Spamming is not allowed on Quora. Please see:"," ",b.createElement(y.A,{text:r.viewer.network.spamUrl,translateParamName:"url"})))},{title:b.createElement(y.y,null,"Be Nice Be Respectful"),value:Object(y.I)(b.createElement(b.Fragment,null,"Hate speech, harassment, and personal attacks are not allowed on Quora. Please see:"," ",b.createElement(y.A,{text:r.viewer.network.bnbrUrl,translateParamName:"url"})))},{title:b.createElement(y.y,null,"Vandalism"),value:Object(y.I)(b.createElement(b.Fragment,null,"Edits which alter meaning and don","'","t suitably improve content are not allowed on Quora. Please see:"," ",b.createElement(y.A,{text:r.viewer.network.vandalismUrl,translateParamName:"url"})))},{title:b.createElement(y.y,null,"Other"),value:""}]});o=b.createElement(b.Fragment,null,b.createElement(E.s,null,b.createElement(y.y,null,"Choose a reason for reverting this revision:")),u,o)}var d="revert-reason-".concat(s,"-").concat(i);return b.createElement(v.a,{onPrimaryButtonClick:function(e){return l({content:e})},onNavButtonClick:function(){return l({})},key:d,editorKey:d,titleText:Object(y.I)("Revert Edit"),startingContent:Object(h.p)(s),header:o,placeholder:Object(y.I)("Enter a reason for reverting this revision."),primaryButtonText:Object(y.I)("Revert")})})}}]),n}(b.Component);F.displayName="OperationRevertModal",F.queries={loadModal:void 0!==f?f:f=a}},"9G0N":function(e,n,t){"use strict";t.d(n,"d",function(){return s}),t.d(n,"c",function(){return a}),t.d(n,"a",function(){return l}),t.d(n,"e",function(){return i}),t.d(n,"b",function(){return r});var a,l,i,r,s=25;!function(e){e[e.personal=1]="personal",e[e.system=2]="system",e[e.ama=3]="ama",e[e.routed=4]="routed",e[e.profile=5]="profile",e[e.mass=6]="mass"}(a||(a={})),function(e){e[e.none=0]="none",e[e.request_button=1]="request_button",e[e.autoexpanded=2]="autoexpanded",e[e.from_rad=3]="from_rad",e[e.from_button=4]="from_button",e[e.from_auto_modal=5]="from_auto_modal",e[e.from_sent_requests=15]="from_sent_requests",e[e.existing_topic=6]="existing_topic",e[e.new_topic=7]="new_topic",e[e.close_or_modal_bg=8]="close_or_modal_bg",e[e.done_button=9]="done_button",e[e.new_modal_opened=16]="new_modal_opened",e[e.modal_suggestion=10]="modal_suggestion",e[e.modal_search=11]="modal_search",e[e.rad_suggestion=12]="rad_suggestion",e[e.on_question_page=13]="on_question_page",e[e.a2a_modal=14]="a2a_modal"}(l||(l={})),function(e){e[e.none=0]="none",e[e.hasNoTopics=1]="hasNoTopics",e[e.isAdult=2]="isAdult",e[e.viewerReachedDailyRateLimit=3]="viewerReachedDailyRateLimit",e[e.viewerReachedQuestionA2aLimit=4]="viewerReachedQuestionA2aLimit",e[e.isMergedQuestion=5]="isMergedQuestion"}(i||(i={})),function(e){e[e["default"]=0]="default",e[e.tribeModerator=1]="tribeModerator",e[e.tribeRestricted=2]="tribeRestricted"}(r||(r={}))},"9k9Z":function(e,n,t){"use strict";var a=t("rhDr"),l=t.n(a),i=t("jufJ"),r=t("IxMk"),s=t("q1tI"),o=t("zLpq"),u=t("59Xv"),d=function(e){var n=e.stacked,t=void 0!==n&&n,a=e.size,d=void 0===a?"regular":a,c=l()(e,["stacked","size"]),m=t?u.a:o.a,g=t?{}:{size:d};return s.createElement(m,Object.assign({icon:s.createElement(r.a,null),text:Object(i.I)("Request")},g,c))};d.displayName="RequestButton",n.a=d},DAeU:function(e,n,t){"use strict";t.r(n),t.d(n,"default",function(){return b});var a=t("8ZkK"),l=t.n(a),i=t("tQZz"),r=t.n(i),s=t("7eVb"),o=t.n(s),u=t("n3k3"),d=t.n(u),c=t("10u2"),m=t.n(c),g=t("q1tI"),p=t("F6zL"),f=t("AFGi"),k=t("zm58"),b=function(e){function n(e){var t;return l()(this,n),(t=o()(this,d()(n).call(this,e))).state={title:t.props.extraProps.startingTitle},t}return m()(n,e),r()(n,[{key:"renderHeader",value:function(){return g.createElement(g.Fragment,null,this.props.extraProps.header,this.getTitleEditor())}},{key:"getTitleEditor",value:function(){var e=this;return g.createElement(p.c,{value:this.state.title,variant:"large",useTextArea:!0,placeholder:this.props.extraProps.titlePlaceholder,onChange:function(n){return e.setState({title:n.target.value})}})}},{key:"editorDismissModalFlow",value:function(e){var n=Object(f.p)(this.state.title),t=JSON.stringify(n);return this.props.dismissModalFlow({title:t,content:e.content})}},{key:"render",value:function(){var e=this,n=this.props,t=n.extraProps,a=n.dismissModalFlow;return g.createElement(k.a,Object.assign({},t,{header:this.renderHeader(),onPrimaryButtonClick:function(n){return a({title:JSON.stringify(Object(f.p)(e.state.title)),content:n})},onNavButtonClick:function(){return a({})}}))}}]),n}(g.Component)},ECID:function(e,n,t){"use strict";var a=t("q1tI"),l=t.n(a),i=function(e){return l.a.createElement("svg",Object.assign({width:"24px",height:"24px",viewBox:"0 0 24 24"},e),l.a.createElement("g",{id:"link",stroke:"none",fill:"none",fillRule:"evenodd"},l.a.createElement("path",{d:"M16.3159981,10.2408946 C16.3101813,10.2245297 16.3329471,10.1991842 16.3570167,10.1752357 C16.7245798,9.80922201 17.0946501,9.44560322 17.4596056,9.07699515 C18.8102118,7.71362426 18.3893947,5.42504114 16.6440469,4.63404055 C15.5918036,4.15716509 14.3652562,4.36861081 13.5456859,5.17916938 C12.4436988,6.2689281 11.3373992,7.3546954 10.252361,8.46091875 C9.48333689,9.24493434 9.25266976,10.1943945 9.58994522,11.2357572 C9.92712039,12.2770201 10.6769891,12.8939946 11.7548064,13.1095315 C11.9044391,13.1394672 12.0590864,13.1438578 12.2157395,13.160522 L12.2157395,14.5384615 C12.0549745,14.5280838 11.8955133,14.5257888 11.7382585,14.5063306 C10.6712726,14.3741146 9.7746795,13.9103111 9.07345143,13.0999521 C8.30272236,12.2092657 7.97006024,11.1681025 8.0793764,9.99651961 C8.17284673,8.99497137 8.59256062,8.1435007 9.30823045,7.43342625 C10.3924662,6.35753773 11.4703838,5.27556228 12.5579291,4.20306647 C13.4173146,3.35568701 14.4638413,2.95714326 15.6682246,3.00364336 C16.6975015,3.04345782 17.5992094,3.42244359 18.3464706,4.13171976 C19.2364445,4.97650479 19.675715,6.02205849 19.6488372,7.24333465 C19.6253693,8.31054183 19.2342381,9.24194077 18.4874784,10.0132836 C18.0222328,10.4940507 17.5407403,10.9592512 17.066268,11.4312372 C17.0509236,11.4464046 17.0333729,11.4594765 17.0346766,11.4583789 C16.7946825,11.0518523 16.5553905,10.6463235 16.3159981,10.2408946 Z M7.53165045,13.9379083 C7.2065543,14.2599938 6.88215943,14.5825781 6.5587664,14.9064597 C5.4790865,15.9878607 5.46716464,17.6933773 6.53111569,18.7877496 C7.58625058,19.8732415 9.35118708,19.8998824 10.4397833,18.8312531 C11.5520229,17.7395748 12.6614574,16.6447036 13.7501538,15.5299765 C14.5141548,14.7477118 14.737264,13.7975197 14.4015483,12.7614181 C14.0655321,11.7243188 13.318362,11.1101812 12.2463963,10.8905684 C12.202616,10.8815883 12.1581344,10.8767989 12.1094451,10.8692157 C12.1094451,10.0312049 12.1094451,9.57736389 12.1094451,9.5076927 C12.4927692,9.53851604 12.6201984,9.53827155 12.8832641,9.61878962 C14.522098,10.1203971 15.5310195,11.1966893 15.8566166,12.8558087 C16.1303185,14.2510137 15.7326893,15.4929586 14.7335572,16.5133949 C13.6432578,17.6266254 12.5327213,18.7202992 11.4224854,19.813973 C10.6971553,20.5285878 9.81543841,20.9146314 8.79747169,20.9889665 C6.71525336,21.1410291 4.81526921,19.7054139 4.4326676,17.665539 C4.16838296,16.2560657 4.53866197,15.0140211 5.5307813,13.9708352 C5.98932216,13.4887048 6.4720073,13.0296232 6.9438726,12.5601646 C6.95489281,12.5490892 7.41804212,13.3730613 7.72410337,13.7641936 C7.6592845,13.8224644 7.59266233,13.8774424 7.53165045,13.9379083 Z",className:"icon_svg-fill_as_stroke",fill:"#666666"})))};i.displayName="SvgEditorLink",n.a=i},EreF:function(e,n,t){"use strict";var a=t("rhDr"),l=t.n(a),i=t("q1tI"),r=t("JY1L"),s=(t("tuWV"),Object(r.a)({loader:function(){return t.e("component-QTextEditor").then(t.bind(null,"a+Nv"))},render:function(e,n){var t=n._ref,a=l()(n,["_ref"]),r=e["default"];return i.createElement(r,Object.assign({},a,{ref:t}))},loading:function(e){var n=e.error;return n&&console.error(n),i.createElement(i.Fragment,null)}})),o=i.forwardRef(function(e,n){return i.createElement(s,Object.assign({},e,{_ref:n}))});o.displayName="QTextEditor",n.a=o},"F3/G":function(e,n,t){"use strict";var a=t("q1tI"),l=t.n(a),i=function(e){return l.a.createElement("svg",Object.assign({width:"24px",height:"24px",viewBox:"0 0 24 24"},e),l.a.createElement("g",{id:"text_formatting",stroke:"none",className:"icon_svg-fill_as_stroke",fill:"#666",fillRule:"evenodd"},l.a.createElement("path",{d:"M10.5256674,17.3521561 L9.52361396,14.3213552 L5.16221766,14.3213552 L4.14373717,17.3521561 L2,17.3521561 L6.20533881,5.5 L8.58726899,5.5 L12.8008214,17.3521561 L10.5256674,17.3521561 Z M7.28131417,7.7587269 L5.6550308,12.6457906 L9.03080082,12.6457906 L7.42094456,7.7587269 L7.28131417,7.7587269 Z M17.6960986,15.8983573 C18.9281314,15.8983573 19.8480493,15.1016427 19.8480493,14.0585216 L19.8480493,13.3439425 L17.8193018,13.4753593 C16.6776181,13.5492813 16.1437372,13.9599589 16.1437372,14.6909651 C16.1437372,15.4466119 16.7926078,15.8983573 17.6960986,15.8983573 Z M17.0965092,17.5 C15.3634497,17.5 14.1232033,16.4486653 14.1232033,14.8059548 C14.1232033,13.1796715 15.3470226,12.2433265 17.5318275,12.1119097 L19.8480493,11.9722793 L19.8480493,11.2166324 C19.8480493,10.3377823 19.2566735,9.8449692 18.1560575,9.8449692 C17.2197125,9.8449692 16.5790554,10.1735113 16.3901437,10.7813142 L14.4681725,10.7813142 C14.6324435,9.19609856 16.1190965,8.18583162 18.2546201,8.18583162 C20.5626283,8.18583162 21.8603696,9.3110883 21.8603696,11.2166324 L21.8603696,17.3521561 L19.8973306,17.3521561 L19.8973306,16.1201232 L19.7577002,16.1201232 C19.2566735,16.9907598 18.2710472,17.5 17.0965092,17.5 Z"})))};i.displayName="SvgEditorTextFormatting",n.a=i},IxMk:function(e,n,t){"use strict";var a=t("q1tI"),l=t.n(a),i=function(e){return l.a.createElement("svg",Object.assign({width:"24px",height:"24px",viewBox:"0 0 24 24"},e),l.a.createElement("g",{id:"request",className:"icon_svg-stroke",stroke:"#666",strokeWidth:1.5,fill:"none",fillRule:"evenodd"},l.a.createElement("g",{transform:"translate(10.000000, 5.000000)",className:"icon_svg-fill",fill:"none"},l.a.createElement("path",{d:"M10,15.5 C10,12.7385763 7.76142375,10.5 5,10.5 C2.23857625,10.5 0,12.7385763 0,15.5 M5,8 C7.209139,8 9,6.209139 9,4 C9,1.790861 7.209139,0 5,0 C2.790861,0 1,1.790861 1,4 C1,6.209139 2.790861,8 5,8 Z"})),l.a.createElement("path",{d:"M6,10 L8.5,13 L6,16 M3,13.0244257 L8.49508293,13.0244257",strokeLinecap:"round",strokeLinejoin:"round"})))};i.displayName="SvgRequest",n.a=i},JusU:function(e,n,t){"use strict";t.r(n),t.d(n,"default",function(){return A});var a={};t.r(a),t.d(a,"default",function(){return k});var l=t("8ZkK"),i=t.n(l),r=t("tQZz"),s=t.n(r),o=t("7eVb"),u=t.n(o),d=t("n3k3"),c=t.n(d),m=t("10u2"),g=t.n(m),p=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null}],n=[{kind:"Variable",name:"tribeId",variableName:"tribeId"}];return{kind:"Request",fragment:{kind:"Fragment",name:"TribeSubmissionRulesModalQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:n,concreteType:"Tribe",plural:!1,selections:[{kind:"FragmentSpread",name:"SubmissionRulesText_tribe",args:null},{kind:"FragmentSpread",name:"TribeNameWithIcon_tribe",args:null}]}]},operation:{kind:"Operation",name:"TribeSubmissionRulesModalQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:n,concreteType:"Tribe",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"iconUrl",args:[{kind:"Literal",name:"size",value:100}],storageKey:"iconUrl(size:100)"}]}]},params:{operationKind:"query",name:"TribeSubmissionRulesModalQuery",id:"1bcc71bd47ba250d7b47c073916dc1015a752516c3c2937dd3a1a353800e80ba",text:null,metadata:{}}}}();p.hash="ada83b4d874aa3d395608e87aa418913";var f,k=p,b=t("q1tI"),y=t("K9ty"),v=t("eEjP"),h=t("RA+f"),S=t("RAJQ"),T=t("cbxS"),E=t("jufJ"),F=t("3E9c"),C=t("m5EB"),w=t("HEDm"),K=t("7/5D"),A=function(e){function n(){return i()(this,n),u()(this,c()(n).apply(this,arguments))}return g()(n,e),s()(n,[{key:"renderHeader",value:function(){var e;return(null===(e=this.props.queryResult)||void 0===e?void 0:e.tribe)?b.createElement(h.d,{mb:"medium"},b.createElement(v.a,{tribe:this.props.queryResult.tribe,linked:!1})):null}},{key:"renderBanner",value:function(){var e=b.createElement(E.y,null,"When posting to Quora, remember to"," ",b.createElement(h.s,{bold:!0,display:"inline-block"},"Be Nice, Be Respectful"));return b.createElement(T.a,{variant:"muted",dismissable:!1,icon:b.createElement(F.a,null),translatedText:e,translatedSubtext:b.createElement(h.p,{href:"https://www.quora.com/What-is-Quoras-Be-Nice-Be-Respectful-policy"},b.createElement(h.s,{color:"gray",display:"inline-flex",mt:"tiny"},b.createElement(E.y,null,"Read More")),b.createElement(w.a,{size:16,ml:"tiny"},b.createElement(C.a,null)))})}},{key:"render",value:function(){var e,n=this.props.dismissModalFlow;return(null===(e=this.props.queryResult)||void 0===e?void 0:e.tribe)?b.createElement(y.d,{navButton:"back",navButtonProps:{onClick:function(){return n()}},extraBodyProps:{display:"flex"}},b.createElement(h.j,{flexDirection:"column",justifyContent:"space-between"},b.createElement(h.d,null,this.renderHeader(),b.createElement(K.a,{mb:"tiny"},b.createElement(E.y,null,"Rules")),b.createElement(S.a,{tribe:this.props.queryResult.tribe,truncated:!1})),this.renderBanner())):null}}]),n}(b.Component);A.displayName="TribeSubmissionRulesModal",A.queries={onLoad:void 0!==f?f:f=a}},LsdO:function(e,n,t){"use strict";var a={};t.r(a),t.d(a,"default",function(){return C});var l={};t.r(l),t.d(l,"default",function(){return K});var i={};t.r(i),t.d(i,"default",function(){return I});var r={};t.r(r),t.d(r,"default",function(){return _});var s={};t.r(s),t.d(s,"default",function(){return x});var o=t("jQsN"),u=t.n(o),d=t("tcRq"),c=t.n(d),m=t("yMAQ"),g=t.n(m),p=t("8ZkK"),f=t.n(p),k=t("tQZz"),b=t.n(k),y=t("7eVb"),v=t.n(y),h=t("n3k3"),S=t.n(h),T=t("10u2"),E=t.n(T),F=function(){var e=[{kind:"LocalArgument",name:"qid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"answerer_uid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"a2a_type",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"action_source",type:"BigInt!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"questionAskToAnswerAdd",storageKey:null,args:[{kind:"Variable",name:"a2aType",variableName:"a2a_type"},{kind:"Variable",name:"actionSource",variableName:"action_source"},{kind:"Variable",name:"answererUid",variableName:"answerer_uid"},{kind:"Variable",name:"qid",variableName:"qid"}],concreteType:"QuestionAskToAnswerAdd",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"translatedMessage",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasAskedToAnswer",args:[{kind:"Variable",name:"uid",variableName:"answerer_uid"}],storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"AskQuestionSelector_questionAskToAnswerAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"AskQuestionSelector_questionAskToAnswerAdd_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"AskQuestionSelector_questionAskToAnswerAdd_Mutation",id:"4ce3a457d74cc638d54fd6241929f2f5da731e2933e8b99576ca5a08e891977d",text:null,metadata:{}}}}();F.hash="d0c3b6c1d68b4b67f79e19b4654eda5c";var C=F,w={kind:"Fragment",name:"AskQuestionSelector_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null}],hash:"055c48d7fd1ba34b50f082966f7e2346"},K=w,A=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"AskQuestionSelector_session",type:"Session",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"LinkedField",alias:null,name:"hosts",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[e,n,{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null}]}]}}();A.hash="cd75d6d0de789fa8682f4e087d5497df";var I=A,L={kind:"Fragment",name:"AskQuestionSelector_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null}],hash:"268d96df74dd1f086b437c521aa94b87"},_=L,O=function(){var e=[{kind:"LocalArgument",name:"query",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"nid",type:"Int!",defaultValue:null},{kind:"LocalArgument",name:"uid",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"tribeId",type:"BigInt",defaultValue:null}],n=[{kind:"Variable",name:"nid",variableName:"nid"}],t={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l=[{kind:"Variable",name:"contextOid",variableName:"tribeId"},{kind:"Literal",name:"limit",value:6},{kind:"Variable",name:"query",variableName:"query"},{kind:"Literal",name:"querySource",value:3},{kind:"Literal",name:"queryType",value:42}],i={kind:"ScalarField",alias:null,name:"viewerHasAskedToAnswer",args:[{kind:"Variable",name:"uid",variableName:"uid"}],storageKey:null},r={kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},o={kind:"FragmentSpread",name:"QuestionTitle_question",args:null},u={kind:"FragmentSpread",name:"QuestionAnswerCount_question",args:null},d={kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"isPartnerQuestion",args:null,storageKey:null},m={kind:"LinkedField",alias:null,name:"asker",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[t,a,{kind:"ScalarField",alias:null,name:"isEmployee",args:null,storageKey:null}]},g={kind:"ScalarField",alias:null,name:"answerCount",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"AskQuestionSelectorQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:n,concreteType:"Network",plural:!1,selections:[t,a,{kind:"LinkedField",alias:null,name:"searchQuery",storageKey:null,args:l,concreteType:null,plural:!0,selections:[t,a,{kind:"InlineFragment",type:"QuestionSearchResult",selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[t,i,r,s,a,o,u]}]},{kind:"InlineFragment",type:"QuestionRedirectSearchResult",selections:[{kind:"LinkedField",alias:null,name:"toQuestion",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[t,s,r,a,o,u]}]}]}]}]},operation:{kind:"Operation",name:"AskQuestionSelectorQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:n,concreteType:"Network",plural:!1,selections:[t,a,{kind:"LinkedField",alias:null,name:"searchQuery",storageKey:null,args:l,concreteType:null,plural:!0,selections:[t,a,{kind:"InlineFragment",type:"QuestionSearchResult",selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[t,i,r,a,d,s,c,m,g]}]},{kind:"InlineFragment",type:"QuestionRedirectSearchResult",selections:[{kind:"LinkedField",alias:null,name:"toQuestion",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[t,a,r,d,s,c,m,g]}]}]}]}]},params:{operationKind:"query",name:"AskQuestionSelectorQuery",id:"502145273fe8949ee858e2335fa3ddc59f02d2d083da8699fa8593fadf9f0431",text:null,metadata:{}}}}();O.hash="a1a8a660ceb6f40858421fb3927c2fe1";var q,Q,P,M,D,x=O,R=t("q1tI"),N=t("jufJ"),j=t("bslc"),V=t("Kk/C"),U=t("cztr"),B=t("MI6j"),H=t("RA+f"),z=t("VyO/"),J=t("NOjq"),Z=t("dp7i"),W=t("wTYd"),Y=t("9k9Z"),G=t("oJdr"),X=t("9G0N"),$=t("PeiD"),ee=void 0!==q?q:q=s,ne=[0,5,6,7,8,10,11,13,14,15,16,17,27];function te(e,n,t){var a;(a=e)&&a.length>0&&(a="\xbf"===a[0]?"\xbf"+a[1].toUpperCase()+a.slice(2):a[0].toUpperCase()+a.slice(1)),e=a;var l=0;if(!t)return[e,l];var i=(e=e.trim()).charAt(e.length-1);return[".","?","!"].includes(i)||(e=e.concat("?")),5===n&&"\xbf"!==e.charAt(0)&&(e="\xbf"+e,l+=1),[e,l]}var ae=function(e){function n(e){var t;if(f()(this,n),(t=v()(this,S()(n).call(this,e))).initialInput=void 0,t.initialCursorPosition=void 0,t.firstEdit=void 0,t.nid=void 0,t.selectorRef=void 0,t.handleInputChange=function(e){var n,a;null===(n=(a=t.props).handleInputChange)||void 0===n||n.call(a,e),t.setState({input:e})},t.mainpulateInput=function(e){var n=te(e,t.nid,t.firstEdit);return t.firstEdit=!1,n},t.selectorRef=R.createRef(),t.initialInput=e.initialInput?e.initialInput:"",t.nid=t.props.overrideNid||Object(W.c)(),t.firstEdit=!0,t.initialInput){var a,l=t.initialInput.length,i=te(t.initialInput,t.nid,!0),r=g()(i,2);t.initialInput=r[0],a=r[1],t.initialCursorPosition=l+a,t.firstEdit=!1,t.props.handleInputChange&&t.props.handleInputChange(t.initialInput)}else t.initialCursorPosition=0;return t.state={input:t.initialInput},t}return E()(n,e),b()(n,[{key:"focus",value:function(){return this.selectorRef.current.focus()}},{key:"onSelectHandler",value:function(e,n){if(this.props.requestTarget){var t=this.getA2aMutationOptions(n);e.mutate(t).then(function(e){var n=e.data.questionAskToAnswerAdd;if(n){var t=n.success,a=n.translatedMessage;!t&&a&&Object(G.a)({message:Object(N.H)(a),error:!1})}})}else Object(H.u)(n.url,"present")}},{key:"isRequestSent",value:function(e){return!!this.props.requestTarget&&e.viewerHasAskedToAnswer}},{key:"getA2aMutationOptions",value:function(e){var t=n.mutations.questionAskToAnswerAdd,a=e.qid,l=e.id,i=e.__typename,r=this.getA2aTypeAndUidFromRequestTarget(),s=r.a2aType;return{mutation:t,variables:{qid:a,answerer_uid:r.uid,a2a_type:s,action_source:X.a.none},optimisticResponse:{questionAskToAnswerAdd:{success:!0,translatedMessage:null,question:{id:l,__typename:i,viewerHasAskedToAnswer:!0}}}}}},{key:"getA2aTypeAndUidFromRequestTarget",value:function(){var e=this.props.requestTarget;if(!e)throw new Error("no requestTarget");var n=e.__typename;if("User"==n){var t=e;return{a2aType:X.c.profile,uid:t.uid}}if("Session"==n){var a=e;return{a2aType:X.c.ama,uid:a.hosts[0].uid}}throw new Error("bad typename ".concat(n))}},{key:"render",value:function(){var e=this,t=this.props.client,a=ne.includes(this.nid)?{mainpulateInput:function(n){return e.mainpulateInput(n)}}:{};return R.createElement(W.b,{nid:this.nid},R.createElement(H.d,{mt:"medium"},R.createElement(U.a,Object.assign({async:!0,queryTimeoutMsecs:500,options:c()(u.a.mark(function l(){var a,i,r,s,o,d,c,m,g;return u.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!e.props.showDuplicateQuestions){l.next=11;break}if(!e.state.input){l.next=8;break}return l.next=4,t.query({query:n.queries.selector,variables:{query:e.state.input,nid:e.nid,tribeId:null===(s=e.props.tribe)||void 0===s?void 0:s.tribeId,uid:null===(o=e.props.user)||void 0===o?void 0:o.uid},fetchPolicy:"store-or-network"});case 4:d=l.sent,r=d.data,l.next=9;break;case 8:r={network:{searchQuery:[]}};case 9:l.next=12;break;case 11:r=null;case 12:if(Object(J.b)(Z.b.ask_question_step,Z.a.duplicate_questions_query),c=[],!(null===(a=r)||void 0===a?void 0:null===(i=a.network)||void 0===i?void 0:i.searchQuery)){l.next=24;break}m=function(n){var a=r.network.searchQuery[n];if(!a)return"continue";c.push({item:R.createElement(le,{searchQuery:a,isRequested:a.question&&e.isRequestSent(a.question),showRequestButton:!!e.props.requestTarget}),title:Object(N.J)(e.state.input),onSelect:function(){a.question&&e.onSelectHandler(t,a.question)},refreshOnSelect:!0})},g=0;case 17:if(!(g<r.network.searchQuery.length)){l.next=24;break}if("continue"!==m(g)){l.next=21;break}return l.abrupt("continue",21);case 21:g++,l.next=17;break;case 24:return l.abrupt("return",c);case 25:case"end":return l.stop()}},l)})),inputPlaceholder:this.props.inputPlaceholder,limit:6,onInputChange:function(n){return e.handleInputChange(n)},initialInput:this.initialInput,initialCursorPosition:this.initialCursorPosition,onFocus:function(e){var n=e.target.value;e.target.value="",e.target.value=n},closeOnClick:!1,listComponent:H.f,inputWrapperProps:{noBorder:!0,variant:"large",charLimit:this.props.getCharLimit?this.props.getCharLimit(this.state.input):$.a,charTolerance:this.props.charTolerance,borderBottom:this.props.borderBottom,pb:this.props.borderBottom?"small":undefined,borderRadius:0},autoFocus:!0,forceOpenMenu:!0,useTextArea:this.props.useTextArea,autosize:!0,hideLoadingDots:!0,forwardedRef:this.selectorRef},a))))}}]),n}(R.Component);ae.displayName="AskQuestionSelector",ae.defaultProps={showDuplicateQuestions:!0,useTextArea:!0,charTolerance:.9,borderBottom:!0},ae.fragments={user:void 0!==Q?Q:Q=r,session:void 0!==P?P:P=i,tribe:void 0!==M?M:M=l},ae.queries={selector:ee},ae.mutations={questionAskToAnswerAdd:void 0!==D?D:D=a};n.a=Object(z.b)(Object(z.e)(ae));var le=function(e){function n(){return f()(this,n),v()(this,S()(n).apply(this,arguments))}return E()(n,e),b()(n,[{key:"renderRequestButton",value:function(){return this.props.showRequestButton?R.createElement(Y.a,{pressed:this.props.isRequested}):null}},{key:"render",value:function(){var e,n,t=this.props.searchQuery;return t?(t.question?e=t.question:t.toQuestion&&(e=t.toQuestion),e?R.createElement(B.a,{mainText:R.createElement(V.a,{question:e,fontSize:"small"}),subText:R.createElement(j.a,{question:e}),includePageMargin:!1,secondaryComponent:null!==(n=this.renderRequestButton())&&void 0!==n?n:undefined,propagateOnClickSecondaryComponent:!0}):null):null}}]),n}(R.Component);le.displayName="AskQuestionSelectorResult"},NOjq:function(e,n,t){"use strict";t.d(n,"b",function(){return r}),t.d(n,"c",function(){return s}),t.d(n,"a",function(){return o});var a=t("AaDK"),l=t("Yc5t"),i=t("q1tI"),r=function(e,n){return Object(a.a)("ask_question_flow",{step:e,action:n,is_react:!0})},s=function(e,n,t){return Object(a.a)("ask_question_flow_transitions",{from_step:e,to_step:n,is_standalone:t,is_react:!0})},o=function(e){var n=e.stepType,t=e.customLog,r=e.children;return i.createElement(l.b,{onImpression:function(e){e&&Object(a.a)("ask_question_flow_impressions",{step:n,custom_log:t})}},r)}},P8a8:function(e,n,t){"use strict";t.r(n),t.d(n,"default",function(){return S});var a=t("8ZkK"),l=t.n(a),i=t("tQZz"),r=t.n(i),s=t("7eVb"),o=t.n(s),u=t("n3k3"),d=t.n(u),c=t("10u2"),m=t.n(c),g=t("q1tI"),p=t("RA+f"),f=t("jufJ"),k=t("K9ty"),b=t("xhE2"),y=t("nwxp"),v=t("Qkno"),h=t("eL6j"),S=function(e){function n(){return l()(this,n),o()(this,d()(n).apply(this,arguments))}return m()(n,e),r()(n,[{key:"getTitleText",value:function(){return Object(f.I)(g.createElement(b.c,null,"What is an owner?"))}},{key:"render",value:function(){var e=this.props.dismissModalFlow,n={titleText:this.getTitleText(),navButtonProps:{onClick:function(){return e()}}};return g.createElement(k.d,n,g.createElement(p.d,{pb:"medium"},g.createElement(p.s,null,g.createElement(b.c,null,"An owner of a Space is the admin who created the space or has been granted ownership by the previous owner."," ",Object(v.b)("TribeEarningsProgramFeature")?"They can invite or remove admins, delete the Space, and participate in the Spaces Earnings beta program.":"They can invite or remove admins and delete the Space."))),g.createElement(p.d,{mx:y.f?"n_tiny":"n_small"},g.createElement(h.a,null)))}}]),n}(g.Component);S.displayName="TribeOwnerInfoModal"},PeiD:function(e,n,t){"use strict";t.d(n,"a",function(){return a});var a=250},Pr93:function(e,n,t){"use strict";var a=t("q1tI"),l=t.n(a),i=function(e){return l.a.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),l.a.createElement("path",{d:"M15 20H11.85V13.3139H6.15V20H3V4H6.15V10.0985H11.85V4H15V20Z",fill:"#666666",className:"icon_svg-fill_as_stroke"}),l.a.createElement("path",{d:"M18.3973 20V11.9688L16.5 13.8782L16.5 11.781L18.3973 10H20.5L20.5 20L18.3973 20Z",fill:"#666666",className:"icon_svg-fill_as_stroke"}))};i.displayName="SvgH1Font",n.a=i},RAJQ:function(e,n,t){"use strict";var a={};t.r(a),t.d(a,"default",function(){return k});var l,i=t("8ZkK"),r=t.n(i),s=t("tQZz"),o=t.n(s),u=t("7eVb"),d=t.n(u),c=t("n3k3"),m=t.n(c),g=t("10u2"),p=t.n(g),f={kind:"Fragment",name:"SubmissionRulesText_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null}],hash:"d479e7174a83b9ba33b472a4bff5efd6"},k=f,b=t("q1tI"),y=t("jufJ"),v=t("wB5M"),h=t("nwxp"),S=t("AFGi"),T=t("VyO/"),E=t("Kh5g"),F=function(e){function n(){return r()(this,n),d()(this,m()(n).apply(this,arguments))}return p()(n,e),o()(n,[{key:"render",value:function(){var e=this.props.tribe.submissionRules,n=this.props.bg,t=JSON.parse(e);return Object(S.k)(t)?b.createElement(y.y,null,"This space's admins will review your submission before it's posted. You'll be notified when it's approved."):this.props.truncated?b.createElement(v.a,{qt:t,bg:n,charLimit:h.f?90:130}):b.createElement(E.a,{qt:t,bg:n})}}]),n}(b.Component);F.displayName="SubmissionRulesText",F.fragments={tribe:void 0!==l?l:l=a},F.defaultProps={truncated:!0};n.a=Object(T.b)(F)},"Rk/7":function(e,n,t){"use strict";var a=t("yMAQ"),l=t.n(a),i=t("q1tI"),r=t("vOnD"),s=t("RA+f"),o=t("KweS"),u=t("nwxp"),d=Object(r.withTheme)(function(e){var n=e.children,t=e.text,a=e.subText,r=void 0===a?null:a,d=e.placement,c=void 0===d?"top":d,m=e.autoDismiss,g=void 0===m||m,p=e.display,f=void 0===p?"inline-flex":p,k=e.theme,b={bottom:"top"===c?"100%":undefined,top:"bottom"===c?"100%":undefined},y="top"===c?"bottom":"top";if(u.f){var v=Object(i.useRef)(null),h=Object(i.useState)(),S=l()(h,2),T=S[0],E=S[1];return Object(i.useEffect)(function(){var e;E(null===v||void 0===v?void 0:null===(e=v.current)||void 0===e?void 0:e.getBoundingClientRect())},[]),i.createElement(s.q,{display:f,innerRef:v},n,T&&i.createElement(s.a,Object.assign({},b,{width:"100vw",px:"medium",left:-T.left,zIndex:"tooltip"}),i.createElement(o.a,{autoDismiss:g,subText:r,text:t,nubDirection:y,nubLeft:T.left+T.width/2-k.space.medium,centerNub:!1})))}return i.createElement(s.q,{display:f},n,i.createElement(s.a,Object.assign({},b,{zIndex:"tooltip",centerX:!0}),i.createElement(o.a,{autoDismiss:g,subText:r,text:t,nubDirection:y,centerNub:!0})))});n.a=d},U3fp:function(e,n,t){"use strict";var a={};t.r(a),t.d(a,"default",function(){return y});var l={};t.r(l),t.d(l,"default",function(){return T});var i=t("rhDr"),r=t.n(i),s=t("8ZkK"),o=t.n(s),u=t("tQZz"),d=t.n(u),c=t("7eVb"),m=t.n(c),g=t("n3k3"),p=t.n(g),f=t("10u2"),k=t.n(f),b={kind:"Fragment",name:"EditorHeader_credential",type:"Credential",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"FragmentSpread",name:"UserNameCredential_credential",args:null}],hash:"cdb22026d0a107544cf23c3912653c20"},y=b,v=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"EditorHeader_viewer",type:"Viewer",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[e,n,{kind:"FragmentSpread",name:"UserName_user",args:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null},{kind:"FragmentSpread",name:"UserNameCredential_user",args:null}]}]}}();v.hash="a0c74046554b08fa5c8b2a1936f2d84e";var h,S,T=v,E=t("q1tI"),F=t("VyO/"),C=t("vwvq"),w=t("r+vq"),K=t("RA+f"),A=t("jufJ"),I=function(e){function n(){return o()(this,n),m()(this,p()(n).apply(this,arguments))}return k()(n,e),d()(n,[{key:"render",value:function(){var e=this.props,n=e.viewer,t=e.credential,a=e.openModal,l=r()(e,["viewer","credential","openModal"]);return E.createElement(K.d,l,E.createElement(K.j,{alignItems:"center",mx:"auto"},E.createElement(K.d,{mr:"small"},E.createElement(w.a,{user:n.user,size:40})),E.createElement(K.d,null,E.createElement(C.a,{user:n.user,credential:t}),E.createElement(K.s,{color:"gray"},E.createElement(K.e,{onClick:function(){return a()}},E.createElement(A.y,null,"Edit Credential"))))))}}]),n}(E.Component);I.displayName="EditorHeader",I.fragments={viewer:void 0!==h?h:h=l,credential:void 0!==S?S:S=a};n.a=Object(F.b)(I)},VEaG:function(e,n,t){"use strict";t.r(n),t.d(n,"AskQuestionStepTabs",function(){return qe}),t.d(n,"QUESTION_CREATION_MUTATION",function(){return Qe}),t.d(n,"HYPERLINK_SHARE_MUTATION",function(){return Pe}),t.d(n,"HYPERLINK_SHARE_TRIBE_SUBMISSION_MUTATION",function(){return Me}),t.d(n,"TRIBE_CONTENT_QUEUE_ITEM_ADD_MUTATION",function(){return De}),t.d(n,"onQuestionCreateSuccess",function(){return xe});var a={};t.r(a),t.d(a,"default",function(){return C});var l={};t.r(l),t.d(l,"default",function(){return K});var i={};t.r(i),t.d(i,"default",function(){return I});var r={};t.r(r),t.d(r,"default",function(){return _});var s={};t.r(s),t.d(s,"default",function(){return q});var o={};t.r(o),t.d(o,"default",function(){return re});var u={};t.r(u),t.d(u,"default",function(){return oe});var d={};t.r(d),t.d(d,"default",function(){return de});var c={};t.r(c),t.d(c,"default",function(){return me});var m=t("8ZkK"),g=t.n(m),p=t("7eVb"),f=t.n(p),k=t("n3k3"),b=t.n(k),y=t("tQZz"),v=t.n(y),h=t("10u2"),S=t.n(h),T=t("g8yt"),E=t.n(T),F=function(){var e=[{kind:"LocalArgument",name:"translationWhitelisted",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"targetOid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"isTribeOid",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"isUserOid",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"isSessionOid",type:"Boolean!",defaultValue:null}],n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"numQuestions",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"isPartner",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"shouldShowPartnersPolicyOnAskQuestion",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"contentLanguageCode",args:null,storageKey:null},s=[{kind:"LinkedField",alias:null,name:"contentTranslationPromptNetwork",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[n,t,r,{kind:"ScalarField",alias:null,name:"nid",args:null,storageKey:null}]}],o=[n,t,{kind:"ScalarField",alias:null,name:"numericValue",args:null,storageKey:null}],u={kind:"ScalarField",alias:null,name:"booleanValue",args:null,storageKey:null},d={kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[n,t,{kind:"LinkedField",alias:"questionTitleMaxLength",name:"featureManager",storageKey:'featureManager(name:"QuestionTitleMaxLength")',args:[{kind:"Literal",name:"name",value:"QuestionTitleMaxLength"}],concreteType:"FeatureManagerObject",plural:!1,selections:o},{kind:"LinkedField",alias:"hyperlinkFeature",name:"featureManager",storageKey:'featureManager(name:"HyperlinkFeature")',args:[{kind:"Literal",name:"name",value:"HyperlinkFeature"}],concreteType:"FeatureManagerObject",plural:!1,selections:[n,t,u]},{kind:"LinkedField",alias:"shareCommentMaxLength",name:"featureManager",storageKey:'featureManager(name:"QuoraShareAndPostTitleMaxLength")',args:[{kind:"Literal",name:"name",value:"QuoraShareAndPostTitleMaxLength"}],concreteType:"FeatureManagerObject",plural:!1,selections:o},r]},c=[{kind:"Variable",name:"tribeId",variableName:"targetOid"}],m={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"viewerCanContribute",args:null,storageKey:null},f=[{kind:"Variable",name:"uid",variableName:"targetOid"}],k={kind:"FragmentSpread",name:"UserName_user",args:null},b=[{kind:"Variable",name:"sessionId",variableName:"targetOid"}],y={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},v={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},S={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},T={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},E={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},F={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},C=[t,n,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],w={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:C},K={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:C},A={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}]},I={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},L={kind:"ScalarField",alias:null,name:"iconUrl",args:[{kind:"Literal",name:"size",value:100}],storageKey:"iconUrl(size:100)"},_=[n,t,m,g,I,L,{kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null},p,{kind:"ScalarField",alias:null,name:"viewerCanCreateContentQueueItem",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"settings",storageKey:null,args:null,concreteType:"TribeSettings",plural:!1,selections:[n,t,{kind:"ScalarField",alias:null,name:"isSubmissionEnabled",args:[{kind:"Literal",name:"contentType",value:49},{kind:"Literal",name:"isExternalHyperlinkShareSubmission",value:!0}],storageKey:"isSubmissionEnabled(contentType:49,isExternalHyperlinkShareSubmission:true)"}]}],O=[n,t,y,F,w,K,v,h,S,T,E,A];return{kind:"Request",fragment:{kind:"Fragment",name:"AskQuestionStepQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[n,t,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[n,t,a,{kind:"FragmentSpread",name:"AskQuestionStepAddQuestion_user",args:null}]},l,i,{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"translationWhitelisted",selections:s},{kind:"FragmentSpread",name:"AskQuestionStepShareLink_viewer",args:null}]},d,{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"isTribeOid",selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:c,concreteType:"Tribe",plural:!1,selections:[n,t,m,g,p,{kind:"FragmentSpread",name:"AskQuestionStepAddQuestion_tribe",args:null}]}]},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"isUserOid",selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:f,concreteType:"User",plural:!1,selections:[n,t,{kind:"FragmentSpread",name:"AskQuestionStepAddQuestion_a2aUser",args:null},k]}]},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"isSessionOid",selections:[{kind:"LinkedField",alias:null,name:"session",storageKey:null,args:b,concreteType:"Session",plural:!1,selections:[n,t,{kind:"LinkedField",alias:null,name:"hosts",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[n,t,k]},{kind:"FragmentSpread",name:"AskQuestionStepAddQuestion_session",args:null}]}]}]},operation:{kind:"Operation",name:"AskQuestionStepQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[n,t,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[n,t,a,y,v,h,S,T,E,F,w,K,{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"featureManager",storageKey:'featureManager(name:"QuestionMentionMSA")',args:[{kind:"Literal",name:"name",value:"QuestionMentionMSA"}],concreteType:"FeatureManagerObject",plural:!1,selections:[u,n]},n]},A]},l,i,{kind:"LinkedField",alias:null,name:"audiencePickerTribesUserCanShareTo",storageKey:"audiencePickerTribesUserCanShareTo(contentType:44)",args:[{kind:"Literal",name:"contentType",value:44}],concreteType:"AudiencePickerTribesUserCanShareTo",plural:!1,selections:[n,t,{kind:"LinkedField",alias:null,name:"recentlyVisited",storageKey:null,args:null,concreteType:"Tribe",plural:!0,selections:_},{kind:"LinkedField",alias:null,name:"recommended",storageKey:null,args:null,concreteType:"Tribe",plural:!0,selections:_}]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"translationWhitelisted",selections:s}]},d,{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"isTribeOid",selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:c,concreteType:"Tribe",plural:!1,selections:[n,t,m,g,p,I,L]}]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"isUserOid",selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:f,concreteType:"User",plural:!1,selections:O}]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"isSessionOid",selections:[{kind:"LinkedField",alias:null,name:"session",storageKey:null,args:b,concreteType:"Session",plural:!1,selections:[n,t,{kind:"LinkedField",alias:null,name:"hosts",storageKey:null,args:null,concreteType:"User",plural:!0,selections:O}]}]}]},params:{operationKind:"query",name:"AskQuestionStepQuery",id:"ad14a6a5e7f78d3bab6327d04034abcc0283f9c7d7f604441a509792ab451fbf",text:null,metadata:{}}}}();F.hash="fb2182c3b6820a5b2b6f35d174611dc1";var C=F,w=function(){var e=[{kind:"LocalArgument",name:"comment",type:"String",defaultValue:null},{kind:"LocalArgument",name:"url",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"tribeContentQueueItemAdd",storageKey:null,args:[{kind:"Variable",name:"comment",variableName:"comment"},{kind:"Variable",name:"tribeId",variableName:"tribeId"},{kind:"Variable",name:"url",variableName:"url"}],concreteType:"TribeContentQueueItemAdd",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"msg",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"AskQuestionStep_tribeContentQueueItemAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"AskQuestionStep_tribeContentQueueItemAdd_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"AskQuestionStep_tribeContentQueueItemAdd_Mutation",id:"ccf209552e38929f30cce8a5e70c72eb49c23bb6632b40ce94d3d980fe9acdf4",text:null,metadata:{}}}}();w.hash="2a12e11562334e58cb3e408102e65540";var K=w,A=function(){var e=[{kind:"LocalArgument",name:"url",type:"String",defaultValue:null},{kind:"LocalArgument",name:"comment",type:"String",defaultValue:null},{kind:"LocalArgument",name:"selectedTribe",type:"BigInt!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"tribeSubmissionAdd",storageKey:null,args:[{kind:"Variable",name:"selectedTribe",variableName:"selectedTribe"},{kind:"Variable",name:"submissionComment",variableName:"comment"},{kind:"Variable",name:"url",variableName:"url"}],concreteType:"TribeSubmissionAdd",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"msg",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"submission",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"submissionId",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"AskQuestionStep_tribeSubmissionAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"AskQuestionStep_tribeSubmissionAdd_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"AskQuestionStep_tribeSubmissionAdd_Mutation",id:"0270827f6eef96d561771771fb5e16398d8ebfaee3aa7dfb6956e6aef65f5787",text:null,metadata:{}}}}();A.hash="5e4a7bd17aa0d248ec6d1cf4beabe831";var I=A,L=function(){var e=[{kind:"LocalArgument",name:"url",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"comment",type:"String",defaultValue:null},{kind:"LocalArgument",name:"selectedTribe",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"shareToFeed",type:"Boolean",defaultValue:null}],n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},a=[{kind:"LinkedField",alias:null,name:"shareHyperlinkAdd",storageKey:null,args:[{kind:"Variable",name:"comment",variableName:"comment"},{kind:"Variable",name:"selectedTribe",variableName:"selectedTribe"},{kind:"Variable",name:"shareToFeed",variableName:"shareToFeed"},{kind:"Variable",name:"url",variableName:"url"}],concreteType:"ShareHyperlinkAdd",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"failureReason",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"share",storageKey:null,args:null,concreteType:null,plural:!1,selections:[n,t,{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[n,t,{kind:"ScalarField",alias:null,name:"tribeItemId",args:null,storageKey:null}]}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"AskQuestionStep_shareHyperlinkAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:a},operation:{kind:"Operation",name:"AskQuestionStep_shareHyperlinkAdd_Mutation",argumentDefinitions:e,selections:a},params:{operationKind:"mutation",name:"AskQuestionStep_shareHyperlinkAdd_Mutation",id:"880ab686199ff54c7d94d1f253dd022bee77eba656baab888bd804e8da636bb7",text:null,metadata:{}}}}();L.hash="186aa9eb0c734181f056a63f403c9d37";var _=L,O=function(){var e=[{kind:"LocalArgument",name:"titlePlaintext",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"isAnon",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"sourceUrl",type:"String",defaultValue:null},{kind:"LocalArgument",name:"sourceLocation",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"limitedUserDistro",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"targetType",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"targetOid",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"shouldCheckDuplicate",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"shouldCheckCorrection",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueue",type:"Boolean",defaultValue:null}],n=[{kind:"Variable",name:"isAnon",variableName:"isAnon"},{kind:"Variable",name:"limitedUserDistro",variableName:"limitedUserDistro"},{kind:"Variable",name:"shouldCheckCorrection",variableName:"shouldCheckCorrection"},{kind:"Variable",name:"shouldCheckDuplicate",variableName:"shouldCheckDuplicate"},{kind:"Variable",name:"shouldQueue",variableName:"shouldQueue"},{kind:"Variable",name:"sourceLocation",variableName:"sourceLocation"},{kind:"Variable",name:"sourceUrl",variableName:"sourceUrl"},{kind:"Variable",name:"targetOid",variableName:"targetOid"},{kind:"Variable",name:"targetType",variableName:"targetType"},{kind:"Variable",name:"titlePlaintext",variableName:"titlePlaintext"}],t={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},o={kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[a,l,i,r,{kind:"ScalarField",alias:null,name:"sourceUrl",args:null,storageKey:null},s,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a,l,{kind:"ScalarField",alias:null,name:"tribeItemId",args:null,storageKey:null}]}]},u={kind:"ScalarField",alias:null,name:"failureType",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"a2aFailureReason",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"anonRedirectUrl",args:null,storageKey:null},m=[{kind:"ScalarField",alias:null,name:"correctionSuggestion",args:null,storageKey:null}],g={kind:"ScalarField",alias:null,name:"isPartnerQuestion",args:null,storageKey:null},p={kind:"LinkedField",alias:null,name:"asker",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[a,l,{kind:"ScalarField",alias:null,name:"isEmployee",args:null,storageKey:null}]},f={kind:"ScalarField",alias:null,name:"answerCount",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"AskQuestionStep_questionCreate_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"questionCreate",storageKey:null,args:n,concreteType:"QuestionCreate",plural:!1,selections:[t,o,{kind:"LinkedField",alias:null,name:"existingQuestion",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[a,l,s,{kind:"FragmentSpread",name:"DuplicateQuestionResult_exactQuestionMatch",args:null}]},u,d,c,{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"shouldCheckDuplicate",selections:[{kind:"LinkedField",alias:null,name:"duplicateSuggestions",storageKey:null,args:null,concreteType:"Question",plural:!0,selections:[a,l,s,{kind:"FragmentSpread",name:"DuplicateQuestionResult_dedupeQuestions",args:null}]}]},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"shouldCheckCorrection",selections:m}]}]},operation:{kind:"Operation",name:"AskQuestionStep_questionCreate_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"questionCreate",storageKey:null,args:n,concreteType:"QuestionCreate",plural:!1,selections:[t,o,{kind:"LinkedField",alias:null,name:"existingQuestion",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[a,l,s,i,r,g,p,f]},u,d,c,{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"shouldCheckDuplicate",selections:[{kind:"LinkedField",alias:null,name:"duplicateSuggestions",storageKey:null,args:null,concreteType:"Question",plural:!0,selections:[a,l,s,i,f,r,g,p]}]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"shouldCheckCorrection",selections:m}]}]},params:{operationKind:"mutation",name:"AskQuestionStep_questionCreate_Mutation",id:"6461b534b196d20bb8bc62433eda0e7e1ea5b874ee0b4faa1d7716953a196cd8",text:null,metadata:{}}}}();O.hash="5ae4ae364a6fb7329e86638163ae95ea";var q=O,Q=t("q1tI"),P=t("DzJC"),M=t.n(P),D=t("VyO/"),x=t("AaDK"),R=t("NOjq"),N=t("dp7i"),j=t("K9ty"),V=t("ZXE+"),U=t("RA+f"),B=t("jufJ"),H=t("Gnru"),z=t("yju1"),J=t("SKAY"),Z=t("nwxp"),W=t("oJdr"),Y=t("UDrg"),G=t("R+um"),X=t("3oqD"),$=t("3v16"),ee=t("vOnD"),ne=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"AskQuestionStepAddQuestion_session",type:"Session",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"LinkedField",alias:null,name:"hosts",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[e,n,{kind:"FragmentSpread",name:"UserName_user",args:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null}]},{kind:"FragmentSpread",name:"AskQuestionSelector_session",args:null}]}}();ne.hash="2b1f4b0fda04c9eb0c3b618d4796b960";var te,ae,le,ie,re=ne,se={kind:"Fragment",name:"AskQuestionStepAddQuestion_a2aUser",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"FragmentSpread",name:"UserName_user",args:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null},{kind:"FragmentSpread",name:"AskQuestionSelector_user",args:null}],hash:"d5a196ec205d1f856e775ebca22f7a14"},oe=se,ue={kind:"Fragment",name:"AskQuestionStepAddQuestion_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},{kind:"FragmentSpread",name:"TribeIcon_tribe",args:null},{kind:"FragmentSpread",name:"TribeName_tribe",args:null},{kind:"FragmentSpread",name:"AskQuestionSelector_tribe",args:null}],hash:"9196977e661e409ba26bf4455b064e34"},de=ue,ce={kind:"Fragment",name:"AskQuestionStepAddQuestion_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"featureManager",storageKey:'featureManager(name:"QuestionMentionMSA")',args:[{kind:"Literal",name:"name",value:"QuestionMentionMSA"}],concreteType:"FeatureManagerObject",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"booleanValue",args:null,storageKey:null}]}]},{kind:"FragmentSpread",name:"UserPhoto_user",args:null},{kind:"FragmentSpread",name:"UserName_user",args:null}],hash:"0874adf22ff2c50d04756d26b3f5a778"},me=ce,ge=t("Yc5t"),pe=t("4oNN"),fe=t("r+vq"),ke=t("F0ZP"),be=t("cbxS"),ye=t("n2ec"),ve=t("PuWf"),he=t("nW6E"),Se=t("6sb5"),Te=t("xgmy"),Ee=t("LsdO"),Fe=Object(ee["default"])(be.a).withConfig({displayName:"AskQuestionStepAddQuestion___StyledBanner",componentId:"wpgp1f-0"})(["& ul{list-style:disc;margin-left:20px;}"]),Ce=function(e){function n(){return g()(this,n),f()(this,b()(n).apply(this,arguments))}return S()(n,e),v()(n,[{key:"renderAudience",value:function(){var e=this.props,n=e.tribe,t=e.a2aUser,a=e.session;return n?this.renderTribeAudience():t?this.renderUserAudience(t):a?this.renderUserAudience(a.hosts[0]):this.renderDistroSwitcher()}},{key:"renderTribeAudience",value:function(){var e=this.props.tribe;return e?Q.createElement(U.j,{ml:"small"},Q.createElement(ke.e,null,Q.createElement(ye.a,{tribe:e})),Q.createElement(ke.g,null,Q.createElement(U.j,{alignItems:"center"},Q.createElement(B.y,null,Q.createElement(ve.a,{tribe:e}))))):null}},{key:"renderUserAudience",value:function(e){return Q.createElement(U.j,{ml:"small"},Q.createElement(ke.e,null,Q.createElement(fe.a,{user:e})),Q.createElement(ke.g,null,Q.createElement(U.j,{alignItems:"center"},Q.createElement(B.y,null,Q.createElement(G.a,{user:e})))))}},{key:"renderDistroSwitcher",value:function(){var e=this,n=this.props,t=n.distributionState,a=n.distributionSwitcherHeight;return Q.createElement(U.d,{ml:"small"},Q.createElement(pe.a,{alignment:"bottom-end",title:Object(B.I)("Audience"),menuItems:[{label:Object(B.I)("Public"),subLabel:Object(B.I)("Others will see your identity alongside this question on your profile and in their feeds."),isOn:t===X.a.PUBLIC,onSelected:function(){e.props.setAskQuestionStepDistributionState(X.a.PUBLIC)},isCheckable:!0,closeOnClick:!0},{label:Object(B.I)("Anonymous"),subLabel:Object(B.I)("Your identity will never be associated with this question."),isOn:t===X.a.ANON,onSelected:function(){e.props.setAskQuestionStepDistributionState(X.a.ANON)},isCheckable:!0,closeOnClick:!0},{label:Object(B.I)("Limited"),subLabel:Object(B.I)("Your identity will be shown but this question will not appear in your followers' feeds or your profile."),isOn:t===X.a.LIMITED,onSelected:function(){e.props.setAskQuestionStepDistributionState(X.a.LIMITED)},isCheckable:!0,closeOnClick:!0}],isInModal:!0},function(n){return Q.createElement(he.a,{modalFlowProps:{transitionName:"StandaloneModal",initialModalProps:{name:"AskQuestionDistributionSwitcher",extraProps:{currentDistributionState:t}},initialFlowData:{},containerProps:{easyDismissEnabled:!0,legacy:!1,mobileHeight:a},postDismissCallback:function(n){var t=n.distributionState;null!=t&&e.props.setAskQuestionStepDistributionState(t)}}},function(e){var a=e.openModalFlow;return Q.createElement(X.b,{currentState:t,onClick:Z.h?function(){return a()}:n})})}))}},{key:"renderTribeSubmissionBanner",value:function(){return Q.createElement(be.a,{dismissable:!1,variant:"muted",mt:"small"},Q.createElement(B.y,null,"This space's admins will review your submission before it's posted. You'll be notified when it's approved."))}},{key:"getRequestTarget",value:function(){var e=this.props,n=e.a2aUser,t=e.session;return n||t}},{key:"renderReason",value:function(){var e=this.props,n=e.user,t=e.tribe,a=e.session,l=e.a2aUser,i=e.controllerSetting;return!n||"user"===i&&l?null:Q.createElement(ke.h,null,Q.createElement(ke.e,null,Q.createElement(fe.a,{user:n})),Q.createElement(ke.g,null,Q.createElement(U.j,{alignItems:"center"},t?Q.createElement(B.y,null,Q.createElement(G.a,{user:n})," asks"):a?Q.createElement(B.y,null,Q.createElement(G.a,{user:n})," added"):Q.createElement(B.y,null,Q.createElement(G.a,{user:n})," asked"),!a&&this.renderAudience())))}},{key:"renderPartnersBanner",value:function(){return Q.createElement(ge.b,{ratioThreshold:1,minTimeInViewMs:1e3,onImpression:function(){return Object(x.a)("log_partners_policy_on_ask_question",{})}},Q.createElement(be.a,{dismissable:!1,mb:"medium"},Q.createElement(B.y,null,Q.createElement(U.s,{fontSize:"small",bold:!0},"Partner Program Question Policy")),Q.createElement("ul",null,Q.createElement("li",null,Q.createElement(Se.a,null),Q.createElement(B.y,null,Q.createElement(U.s,{as:"span",fontSize:"small"},"Ask unique questions; avoid asking multiple variations of the same question"))),Q.createElement("li",null,Q.createElement(Se.a,null),Q.createElement(B.y,null,Q.createElement(U.s,{as:"span",fontSize:"small"},"Use the third person (he, she, they) when asking questions unless it\u2019s about your personal experiences"))))))}},{key:"renderTipsBanner",value:function(e){return Q.createElement(Fe,{dismissable:!1,mb:"medium"},Q.createElement(B.y,null,Q.createElement(U.s,{bold:!0},"Tips on getting good answers quickly")),Q.createElement("ul",null,Q.createElement("li",null,Q.createElement(B.y,null,"Make sure your question has not been asked already")),Q.createElement("li",null,Q.createElement(B.y,null,"Keep your question short and to the point")),Q.createElement("li",null,e?Q.createElement(B.y,null,"Double-check grammar and spelling and use Modern Standard Arabic"):Q.createElement(B.y,null,"Double-check grammar and spelling"))))}},{key:"render",value:function(){var e,n,t,a=this,l=this.props,i=l.user,r=l.session,s=l.a2aUser,o=l.tribe,u=l.questionText,d=l.shouldShowTips,c=l.shouldShowTribeBanner,m=l.shouldRenderPartnerBanner,g=d?this.renderTipsBanner((null===i||void 0===i?void 0:null===(e=i.network)||void 0===e?void 0:null===(n=e.featureManager)||void 0===n?void 0:n.booleanValue)||!1):m?this.renderPartnersBanner():null;return Q.createElement(U.d,{mt:Z.b?"huge":"medium",mb:"medium"},g,Q.createElement(U.d,null,this.renderReason(),c&&this.renderTribeSubmissionBanner(),Q.createElement(Ee.a,{handleInputChange:function(e){return a.props.setAskQuestionStepQuestionText(e)},initialInput:u,getCharLimit:this.props.getCharLimit,requestTarget:null!==(t=this.getRequestTarget())&&void 0!==t?t:undefined,inputPlaceholder:r?Object(B.I)(Q.createElement(Q.Fragment,null,"What is your question for"," ",Q.createElement(G.a,{user:r.hosts[0]}),"?")):Object(B.I)('Start your question with "What", "How", "Why", etc.'),user:s,session:r,tribe:o}),Q.createElement(Te.a,{onSourceUrlChange:this.props.setAskQuestionStepSourceUrl,currentUrl:this.props.sourceUrl})))}}]),n}(Q.Component);Ce.displayName="AskQuestionStepAddQuestion",Ce.fragments={user:void 0!==te?te:te=c,tribe:void 0!==ae?ae:ae=d,a2aUser:void 0!==le?le:le=u,session:void 0!==ie?ie:ie=o};var we,Ke,Ae,Ie,Le,_e=Object(D.b)(Ce),Oe=t("xdZJ"),qe={ADD_QUESTION:0,SHARE_LINK:1},Qe=void 0!==we?we:we=s,Pe=void 0!==Ke?Ke:Ke=r,Me=void 0!==Ae?Ae:Ae=i,De=void 0!==Ie?Ie:Ie=l,xe=function(e,n,t,a){var l=e.targetType,i=e.controllerSetting,r=e.actionSetting,s="index"===i&&"index"===r;e.qid=n,e.isAnon?e.redirectUrl=a:l?Z.h||(e.redirectUrl=window.location.href):e.redirectUrl=s?"/":t},Re=function(e){var n=e.currentTab,t=e.switchTab,a=e.dismissModal,l=e.canShareLink;return Q.createElement(U.r,{top:0,zIndex:"header"},Q.createElement(U.j,{alignItems:"center",borderBottom:!0,bg:"gray_ultralight"},Q.createElement(Ne,{translatedText:Object(B.I)("Add Question"),selected:n===qe.ADD_QUESTION,onClick:function(){return t(qe.ADD_QUESTION)}}),l&&Q.createElement(Ne,{translatedText:Object(B.I)("Share Link"),selected:n===qe.SHARE_LINK,onClick:function(){return t(qe.SHARE_LINK)}}),Z.b&&Q.createElement(U.d,{p:"small",ml:"auto"},Q.createElement(j.b,{size:"small",onClick:function(){return null===a||void 0===a?void 0:a()}}))))};Re.displayName="AskQuestionTabBar";var Ne=function(e){var n,t,a,l,i,r,s,o=e.translatedText,u=e.selected,d=e.onClick;return Q.createElement(U.e,{underlineHover:!1,onClick:d,flex:null!==(n=Z.f?1:null)&&void 0!==n?n:undefined},Q.createElement(U.q,null,Q.createElement(U.s,{medium:!0,textAlign:null!==(t=Z.f?"center":null)&&void 0!==t?t:undefined,px:"large",py:null!==(a=Z.f?null:"medium")&&void 0!==a?a:undefined,height:null!==(l=Z.f?40:null)&&void 0!==l?l:undefined,color:u?"red":"gray",display:null!==(i=Z.f?"flex":null)&&void 0!==i?i:undefined,alignItems:null!==(r=Z.f?"center":null)&&void 0!==r?r:undefined,justifyContent:null!==(s=Z.f?"center":null)&&void 0!==s?s:undefined,hover:{color:"red"}},u&&Q.createElement(U.a,{height:2,width:"100%",bg:"red",bottom:0,left:0}),o)))};Ne.displayName="AskQuestionTab";var je=function(e){function n(e){var t,a,l;g()(this,n),(l=f()(this,b()(n).call(this,e))).createQuestionAndSetFlowData=M()(function(e){var n=l.props,t=n.flowData,a=n.queryResult;if(a){var i=a.network;if(i){var r=i.contentLanguageCode;l.setIsLoading(!0),t.questionText=l.state.questionText,t.sourceUrl=l.state.sourceUrl,t.distributionState=l.state.distributionState;var s=l.state.questionText;e(l.getCreateQuestionMutationOptions()).then(function(e){var n=e.data.questionCreate,a=n.success,i=n.question,o=n.failureType,u=n.duplicateSuggestions,d=n.existingQuestion,c=n.correctionSuggestion,m=n.anonRedirectUrl;if(c&&Object(x.a)("question_correction_logger",{question_text:s,suggestion_text:c}),!c&&!d&&!u){var g=!!t.targetType&&[Y.a.AMA,Y.a.USER].includes(t.targetType),p=Object(Oe.c)(a,o,g,r);Object(W.a)({message:p,error:!a})}if(c?t.suggestedEdit=c:d?(t.exactQuestionMatch=d,t.dedupeQuestions=null):u&&(t.exactQuestionMatch=null,t.dedupeQuestions=u),a){var f=i.qid,k=i.url;xe(t,f,k,m)}l.setIsLoading(!1),(a||c||d||u)&&l.triggerTransition()})}}},3e3,{leading:!0,trailing:!1}),l.shareHyperlink=M()(function(e){var n=l.props.dismissModal,t=l.state,a=t.hyperlinkUrl,i=t.hyperlinkComment,r=t.hyperlinkTribe,s=r?r.tribeId:0;if(l.setIsLoading(!0),!a)return Object(W.a)({message:Object(B.I)("This link is invalid. Enter a valid URL."),error:!0}),void l.setIsLoading(!1);e({variables:{url:a,comment:i,selectedTribe:s,shareToFeed:!s}}).then(function(e){var t=e.data.shareHyperlinkAdd,a=t.success,i=t.failureReason,r=Object(Oe.d)(a,i);Object(W.a)({message:r,error:!a}),l.setIsLoading(!1),i!=Oe.b.linkInvalid&&(null===n||void 0===n||n())})},3e3,{leading:!0,trailing:!1}),l.addTribeSubmission=M()(function(e){var n=l.props.dismissModal,t=l.state,a=t.hyperlinkUrl,i=t.hyperlinkComment,r=t.hyperlinkTribe;e({variables:{url:a,comment:i,selectedTribe:r?r.tribeId:0}}).then(function(e){var t=e.data.tribeSubmissionAdd,a=t.success,l=t.msg;Object(W.a)({message:l,error:!a}),null===n||void 0===n||n()})},3e3,{leading:!0,trailing:!1}),l.addTribeContentQueueItem=M()(function(e){var n=l.props.dismissModal,t=l.state,a=t.hyperlinkUrl,i=t.hyperlinkComment,r=t.hyperlinkTribe;e({variables:{url:a,comment:i,tribeId:r?r.tribeId:0}}).then(function(e){var t=e.data.tribeContentQueueItemAdd,a=t.success,l=t.errMsg,i=a?Object(B.I)("You successfully shared the link."):l;Object(W.a)({message:i,error:!a}),null===n||void 0===n||n()})},3e3,{leading:!0,trailing:!1}),l.props.flowData.contentTranslationLanguageCode=undefined;var i=(null!==(t=null===(a=l.props.queryResult)||void 0===a?void 0:a.viewer)&&void 0!==t?t:{}).contentTranslationPromptNetwork;i&&(l.props.flowData.contentTranslationLanguageCode=i.contentLanguageCode,l.props.flowData.contentTranslationNid=i.nid);var r=l.props.flowData.queryText;if(l.state={currentTab:qe.ADD_QUESTION,fallbackAddQuestionInput:"",isLoading:!1,questionText:r||"",distributionState:X.a.PUBLIC,sourceUrl:"",hyperlinkUrl:"",hyperlinkComment:"",hyperlinkTribe:null,hyperlinkShareToFollowers:Z.f&&!Z.h,addToTribeContentQueue:!1,initialWindowHeight:window.innerHeight},l.getQuestionCharLimit=l.getQuestionCharLimit.bind(E()(E()(l))),Z.h){var s=e.client;Object(J.registerMessageHandler)("askToolbarSubmit",function(){var e=l.getMutationCall(),n=e.mutationCall;(0,e.onClickHandler)(function(e){return s.mutate(Object.assign({},e,{mutation:n}))},function(e){return Object(H.logEvent)("{}",e)})()})}return l}return S()(n,e),v()(n,[{key:"triggerTransition",value:function(){Z.h&&Object(z.a)("hideAskToolbar"),this.props.triggerTransition()}},{key:"shouldEnableAddOrShareButton",value:function(){var e,n,t,a,l=this.state,i=l.currentTab,r=l.questionText,s=l.hyperlinkComment;return i===qe.ADD_QUESTION?r.length<=this.getQuestionCharLimit(r):s.length<=(null!==(e=null===(n=this.props.queryResult)||void 0===n?void 0:null===(t=n.network)||void 0===t?void 0:null===(a=t.shareCommentMaxLength)||void 0===a?void 0:a.numericValue)&&void 0!==e?e:0)}},{key:"getQuestionCharLimit",value:function(e){var n,t,a;if(Object(V.b)(e))return 2e3;var l=null===(n=this.props.queryResult)||void 0===n?void 0:null===(t=n.network)||void 0===t?void 0:null===(a=t.questionTitleMaxLength)||void 0===a?void 0:a.numericValue;return l||250}},{key:"setIsLoading",value:function(e){if(Z.h)if(e){var n=this.state.currentTab===qe.ADD_QUESTION;Object(z.a)("showAskToolbar",{buttonText:n?Object(B.I)("Adding..."):Object(B.I)("Sharing..."),enabled:!1})}else this.showAskToolbar();else this.setState({isLoading:e})}},{key:"showAskToolbar",value:function(){var e=this.state.currentTab===qe.ADD_QUESTION;Object(z.a)("showAskToolbar",{buttonText:e?Object(B.I)("Add"):Object(B.I)("Share"),enabled:!0})}},{key:"getCreateQuestionMutationOptions",value:function(){var e=this.state,n=e.questionText,t=e.sourceUrl,a=e.distributionState,l=this.props.flowData,i=l.targetType,r=l.sourceLocation,s=l.targetOid;0===s&&(s=undefined);var o=a===X.a.ANON,u=a===X.a.LIMITED;return l.isAnon=o,l.limitedUserDistro=u,{variables:{titlePlaintext:n,isAnon:o,sourceUrl:t,sourceLocation:r,limitedUserDistro:u,targetType:i,targetOid:s,shouldCheckDuplicate:i!==Y.a.TRIBE,shouldCheckCorrection:i!==Y.a.TRIBE}}}}]),v()(n,[{key:"getMutationCall",value:function(){var e,t=this.state,a=t.currentTab,l=t.hyperlinkTribe,i=t.addToTribeContentQueue,r=t.hyperlinkShareToFollowers,s=!!l&&(!l.viewerCanContribute&&(null===(e=l.settings)||void 0===e?void 0:e.isSubmissionEnabled)),o=a===qe.ADD_QUESTION,u=o?n.mutations.questionCreate:s?n.mutations.addTribeSubmission:i?n.mutations.addTribeContentQueueItem:n.mutations.hyperlinkShare,d=o?this.createQuestionAndSetFlowData.bind(this):s?this.addTribeSubmission.bind(this):i?this.addTribeContentQueueItem.bind(this):this.shareHyperlink.bind(this);return{mutationCall:u,onClickHandler:function(e,n){return function(){if(o)n("QuestionAskFlowStarted");else if(!r&&!l)return void Object(W.a)({message:Object(B.I)("Please choose a space to share to."),error:!0});d(e)}}}}},{key:"componentDidMount",value:function(){Object(R.b)(N.b.ask_question_step,N.a.modal_open),Z.h&&this.showAskToolbar()}},{key:"componentDidUpdate",value:function(){var e=this.state.currentTab===qe.ADD_QUESTION;Z.h&&Object(z.a)("showAskToolbar",{buttonText:e?Object(B.I)("Add"):Object(B.I)("Share"),enabled:this.shouldEnableAddOrShareButton()})}},{key:"getTitleText",value:function(){var e=this.props.queryResult;return e?e.user?Object(B.I)(Q.createElement(Q.Fragment,null,"Ask ",Q.createElement(G.a,{user:e.user}))):e.session?Object(B.I)(Q.createElement(Q.Fragment,null,"Ask ",Q.createElement(G.a,{user:e.session.hosts[0]}))):Z.f?e.tribe?Object(B.I)("Question"):Object(B.I)("New Question or Link"):null:null}},{key:"shouldRenderPartnerBanner",value:function(){var e=this.props.queryResult;if(!e)return!1;var n=e.viewer,t=n.isPartner,a=n.shouldShowPartnersPolicyOnAskQuestion;return t&&a}},{key:"shouldShowTips",value:function(){var e,n,t,a=this.props.queryResult;return(null!==(e=null===a||void 0===a?void 0:null===(n=a.viewer)||void 0===n?void 0:null===(t=n.user)||void 0===t?void 0:t.numQuestions)&&void 0!==e?e:1)<1}},{key:"shouldShowTribesBanner",value:function(){var e=this.props.queryResult;return!(null===e||void 0===e||!e.tribe||e.tribe.viewerCanContribute)}},{key:"getDefaultContainerHeight",value:function(){var e=this.props.queryResult;return this.shouldRenderPartnerBanner()&&this.shouldShowTips()&&this.shouldShowTribesBanner()?"600px":this.shouldRenderPartnerBanner()||this.shouldShowTips()||this.shouldShowTribesBanner()?"450px":e&&e.tribe?"340px":"284px"}},{key:"render",value:function(){var e,n,t,a=this,l=this.state,i=l.currentTab,r=l.initialWindowHeight,s=l.addToTribeContentQueue,o=l.sourceUrl,u=this.props,d=u.dismissModal,c=u.queryResult,m=u.flowData;if(!c)return null;var g=m.controllerSetting,p=i===qe.ADD_QUESTION,f=this.shouldEnableAddOrShareButton(),k=c.user,b=c.tribe,y=c.session,v=c.network,h=!k&&!y&&!b&&(null===v||void 0===v?void 0:v.hyperlinkFeature.booleanValue),S=h&&Q.createElement(Re,{currentTab:i,switchTab:function(e){a.setState({currentTab:e})},dismissModal:d,canShareLink:null!==(e=null===v||void 0===v?void 0:v.hyperlinkFeature.booleanValue)&&void 0!==e&&e}),T=Q.createElement(U.d,{px:Z.b?"huge":"medium",height:null!==(n=Z.b?this.getDefaultContainerHeight():null)&&void 0!==n?n:undefined,overflowY:"scroll"},Q.createElement(R.a,{stepType:N.b.ask_question_step},p&&Q.createElement(_e,{user:c.viewer.user,questionText:this.state.questionText,contextLink:"",distributionState:this.state.distributionState,tribe:c.tribe||null,session:c.session||null,isPartner:c.viewer.isPartner,shouldShowPartnersPolicyOnAskQuestion:c.viewer.shouldShowPartnersPolicyOnAskQuestion,a2aUser:c.user||null,getCharLimit:this.getQuestionCharLimit,distributionSwitcherHeight:r,controllerSetting:g,setAskQuestionStepDistributionState:function(e){a.setState({distributionState:e})},setAskQuestionStepQuestionText:function(e){a.setState({questionText:e})},setAskQuestionStepSourceUrl:function(e){a.setState({sourceUrl:e})},shouldRenderPartnerBanner:this.shouldRenderPartnerBanner(),shouldShowTips:this.shouldShowTips(),shouldShowTribeBanner:this.shouldShowTribesBanner(),sourceUrl:o}),!p&&h&&Q.createElement($.c,{viewer:c.viewer,onShareLinkChange:function(e){a.setState(function(n){return Object.assign({},n,{},e)})},audiencePickerHeight:r,selectedTribe:this.state.hyperlinkTribe,addToTribeContentQueue:s,shareCommentMaxLength:null!==(t=null===v||void 0===v?void 0:v.shareCommentMaxLength.numericValue)&&void 0!==t?t:0}))),E=Q.createElement(B.y,null,Q.createElement(B.a,{value:p?"addQuestion":"shareLink"},{addQuestion:Z.b&&c.tribe?"Add to Space":"Add Question",shareLink:"Share Link"})),F=this.getMutationCall(),C=F.mutationCall,w=F.onClickHandler,K=this.getTitleText();return this.state.isLoading?Q.createElement(j.f,null):Z.f?Q.createElement(H.ClientLogConsumer,null,function(e){return Q.createElement(D.a,{mutation:C},function(n){return Q.createElement(j.d,{hasPadding:!1,titleText:null!==K&&void 0!==K?K:undefined,primaryButtonProps:!Z.h&&{text:p?Object(B.I)("Add"):Object(B.I)("Share"),onClick:w(n,e),disabled:!f},navButtonProps:{onClick:function(){null===d||void 0===d||d()}}},S,T)})}):Q.createElement(H.ClientLogConsumer,null,function(e){return Q.createElement(D.a,{mutation:C},function(n){return Q.createElement(U.j,{flexDirection:"column"},Q.createElement(j.d,{navButton:"none",titleText:null!==K&&void 0!==K?K:undefined,hasPadding:!1,primaryButtonProps:{text:E,onClick:w(n,e),disabled:!f},secondaryButtonProps:{text:Object(B.I)("Cancel"),onClick:function(){null===d||void 0===d||d()}}},S,T))})})}}]),n}(Q.Component);je.displayName="AskQuestionStep",je.queries={onLoad:void 0!==Le?Le:Le=a},je.mutations={questionCreate:Qe,hyperlinkShare:Pe,addTribeSubmission:Me,addTribeContentQueueItem:De};n["default"]=Object(D.e)(je)},Vx0C:function(e,n,t){"use strict";t.d(n,"a",function(){return Z});var a={};t.r(a),t.d(a,"default",function(){return S});var l={};t.r(l),t.d(l,"default",function(){return E});var i={};t.r(i),t.d(i,"default",function(){return C});var r={};t.r(r),t.d(r,"default",function(){return K});var s={};t.r(s),t.d(s,"default",function(){return I});var o={};t.r(o),t.d(o,"default",function(){return _});var u={};t.r(u),t.d(u,"default",function(){return N});var d=t("8ZkK"),c=t.n(d),m=t("tQZz"),g=t.n(m),p=t("7eVb"),f=t.n(p),k=t("n3k3"),b=t.n(k),y=t("10u2"),v=t.n(y),h=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"qid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null}],n=[{kind:"LinkedField",alias:"answerSubmit",name:"tribeSubmissionAnswerAdd",storageKey:null,args:[{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"qid",variableName:"qid"},{kind:"Variable",name:"tribeId",variableName:"tribeId"}],concreteType:"TribeSubmissionAnswerAdd",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"msg",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerEditorMutation_tribeSubmissionAnswerAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"AnswerEditorMutation_tribeSubmissionAnswerAdd_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"AnswerEditorMutation_tribeSubmissionAnswerAdd_Mutation",id:"ecd9744455648ff619e26fc8d40495eb3cac513bbd7038981b27fc0d6954f372",text:null,metadata:{}}}}();h.hash="9d1c805bcc9396e756467de1801ca174";var S=h,T=function(){var e=[{kind:"LocalArgument",name:"qid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"tribeId",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"attachDisclaimer",type:"Boolean",defaultValue:null}],n=[{kind:"LinkedField",alias:"answerSubmit",name:"answerCreate",storageKey:null,args:[{kind:"Variable",name:"attachDisclaimer",variableName:"attachDisclaimer"},{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"qid",variableName:"qid"},{kind:"Variable",name:"tribeId",variableName:"tribeId"}],concreteType:"AnswerCreate",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"errorType",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"msg",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"answer",storageKey:null,args:null,concreteType:"Answer",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"redirectUrl",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerEditorMutation_answerCreate_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"AnswerEditorMutation_answerCreate_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"AnswerEditorMutation_answerCreate_Mutation",id:"151fbb88deac7e4c3008611bc25d7aecfba8c8f2161634c74c55c5cf5c9d9444",text:null,metadata:{}}}}();T.hash="780324328c00b354d8aa6248bc9bacdb";var E=T,F=function(){var e=[{kind:"LocalArgument",name:"aid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"toggleDisclaimer",type:"Boolean",defaultValue:null}],n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},a=[{kind:"LinkedField",alias:"answerSubmit",name:"answerEdit",storageKey:null,args:[{kind:"Variable",name:"aid",variableName:"aid"},{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"toggleDisclaimer",variableName:"toggleDisclaimer"}],concreteType:"AnswerEdit",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"errorType",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"msg",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"answer",storageKey:null,args:null,concreteType:"Answer",plural:!1,selections:[n,t,{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasDisclaimer",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[n,t,{kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null}]}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerEditorMutation_answerEdit_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:a},operation:{kind:"Operation",name:"AnswerEditorMutation_answerEdit_Mutation",argumentDefinitions:e,selections:a},params:{operationKind:"mutation",name:"AnswerEditorMutation_answerEdit_Mutation",id:"0df9295394c19fd09173fc77f26dce1556ecfe78a3f8623591a8db4fbb56d097",text:null,metadata:{}}}}();F.hash="a3637b03f077bbb47a82c8a02dddcbb6";var C=F,w=function(){var e=[{kind:"LocalArgument",name:"qid",type:"BigInt!",defaultValue:null}],n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},a=[{kind:"LinkedField",alias:null,name:"answerDraftClear",storageKey:null,args:[{kind:"Variable",name:"qid",variableName:"qid"}],concreteType:"AnswerDraftClear",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[n,t,{kind:"LinkedField",alias:null,name:"viewerDraft",storageKey:null,args:null,concreteType:"AnswerDraft",plural:!1,selections:[n,t,{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"saveTime",args:null,storageKey:null}]}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerEditorMutation_answerDraftClear_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:a},operation:{kind:"Operation",name:"AnswerEditorMutation_answerDraftClear_Mutation",argumentDefinitions:e,selections:a},params:{operationKind:"mutation",name:"AnswerEditorMutation_answerDraftClear_Mutation",id:"8e631f40f836567a7be996636aebe57ed6f48ae5733b688696c2fb25ff459f49",text:null,metadata:{}}}}();w.hash="30e385f9006cd0ee0482cb0881879558";var K=w,A=function(){var e=[{kind:"LocalArgument",name:"qid",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"aid",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"isAutoSaved",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"isAnswerEdit",type:"Boolean!",defaultValue:null}],n=[{kind:"Variable",name:"aid",variableName:"aid"},{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"isAutoSaved",variableName:"isAutoSaved"},{kind:"Variable",name:"qid",variableName:"qid"}],t={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i=[a,l,{kind:"LinkedField",alias:null,name:"viewerDraft",storageKey:null,args:null,concreteType:"AnswerDraft",plural:!1,selections:[a,l,{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"saveTime",args:null,storageKey:null}]}],r=[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:i}],s=[{kind:"LinkedField",alias:null,name:"answer",storageKey:null,args:null,concreteType:"Answer",plural:!1,selections:i}];return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerEditorMutation_answerDraftSave_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"answerDraftSave",storageKey:null,args:n,concreteType:"AnswerDraftSave",plural:!1,selections:[t,{kind:"Condition",isCustom:!1,customValue:null,passingValue:!1,condition:"isAnswerEdit",selections:r},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"isAnswerEdit",selections:s}]}]},operation:{kind:"Operation",name:"AnswerEditorMutation_answerDraftSave_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"answerDraftSave",storageKey:null,args:n,concreteType:"AnswerDraftSave",plural:!1,selections:[t,{kind:"Condition",passingValue:!1,isCustom:!1,customValue:null,condition:"isAnswerEdit",selections:r},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"isAnswerEdit",selections:s}]}]},params:{operationKind:"mutation",name:"AnswerEditorMutation_answerDraftSave_Mutation",id:"800c3c538d3817b3df4b1d6fc935f3abd268a3cbda5ae6f8c3a0344083830096",text:null,metadata:{}}}}();A.hash="7f49b24d121acd5ecfb383d1559d4b44";var I=A,L=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},t={kind:"LinkedField",alias:null,name:"viewerDraft",storageKey:null,args:null,concreteType:"AnswerDraft",plural:!1,selections:[e,n]};return{kind:"Fragment",name:"AnswerEditorMutation_answer",type:"Answer",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"aid",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasDisclaimer",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null},t]},t]}}();L.hash="00445ccb5a78f2807476a4a257ac831d";var _=L,O=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"AnswerEditorMutation_question",type:"Question",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,n,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanCreateAnswerSubmissions",args:null,storageKey:null}]}]},{kind:"LinkedField",alias:null,name:"viewerDraft",storageKey:null,args:null,concreteType:"AnswerDraft",plural:!1,selections:[e,n]}]}}();O.hash="c558ca4071cae99d159a82fb1343edd1";var q,Q,P,M,D,x,R,N=O,j=t("q1tI"),V=t("VyO/"),U=t("Gnru"),B=t("vkEr"),H=t("AFGi"),z=t("jufJ"),J=t("bqYg"),Z=function(e){var n=e.errorType;return j.createElement(z.a,{value:n},{add_answer_exception:"Something went wrong.",no_permission_on_question:"You do not have permission to answer this question.",no_permission_on_answer:"You do not have permission to edit this answer.",question_deleted:"This question has been deleted.",ama_session_not_started:"You cannot submit your answer to a session question until the session opens. Feel free to draft your answer in the meantime though.",add_answer_throttled:"You have reached your answer limit for today.",edit_answer_throttled:"You have reached your answer limit for today.",no_empty_answers:"Your answer cannot be blank.",answer_too_long:"Your answer is too long.",add_answer_block:"Your Draft has been saved. Please confirm your email before submitting an answer.",one_answer_per_question:"You may only write one answer for each question, but you can edit your existing answer.",one_answer_per_question_tribe:"This cannot be approved because this person has already written an answer for the question.",existing_pending_answer:"You already have a pending answer to this question.",answer_contains_unready_videos:"Submit your answer from the device the video was originally created, or delete the video to continue submission.",question_hidden_from_tribe:"This question has been removed from the space."})},W=function(e){function n(){return c()(this,n),f()(this,b()(n).apply(this,arguments))}return v()(n,e),g()(n,[{key:"saveDraftMutationOptions",value:function(e,n,t){var a=this.props,l=a.isAnswerEdit,i=a.question,r=a.answer,s=l?{answer:r?{id:r.id,__typename:r.__typename,viewerDraft:r.viewerDraft?{id:r.viewerDraft.id,__typename:r.viewerDraft.__typename,content:JSON.stringify(e),saveTime:Object(B.i)()}:null}:null,question:null}:{question:i?{id:i.id,__typename:i.__typename,viewerDraft:i.viewerDraft?{id:i.viewerDraft.id,__typename:i.viewerDraft.__typename,content:JSON.stringify(e),saveTime:Object(B.i)()}:null}:null,answer:null};return{variables:{aid:l?null===r||void 0===r?void 0:r.aid:null,qid:l?null:null===i||void 0===i?void 0:i.qid,content:JSON.stringify(e),isAutoSaved:n,isAnswerEdit:!!l},optimisticResponse:{answerDraftSave:Object.assign({success:!0},s)},onCompleted:function(e){var n;!l&&(null===e||void 0===e?void 0:null===(n=e.answerDraftSave)||void 0===n?void 0:n.success)&&t("QuestionSaveDraft",{qid:null===i||void 0===i?void 0:i.qid})}}}},{key:"editAnswerMutationOptions",value:function(e){var n=this.props,t=n.answer,a=n.toggleDisclaimer;if(!t)return undefined;var l=t.id,i=t.aid,r=t.question,s=t.hasDisclaimer,o=a?!s:s;return{variables:{aid:i,content:JSON.stringify(e),toggleDisclaimer:a},optimisticResponse:{answerSubmit:{success:!0,errorType:null,msg:null,answer:{id:l,__typename:"Answer",hasDisclaimer:o,content:JSON.stringify(e),question:{id:r.id,__typename:"Question",qid:r.qid}}}}}}},{key:"render",value:function(){var e,t,a,l,i=this,r=this.props,s=r.children,o=r.question,u=r.answer,d=r.isAnswerEdit,c=null!==(e=null===(t=this.props)||void 0===t?void 0:null===(a=t.question)||void 0===a?void 0:null===(l=a.tribeItem)||void 0===l?void 0:l.tribe)&&void 0!==e?e:{},m=c.tribeId,g=c.viewerCanCreateAnswerSubmissions,p=this.props.toggleDisclaimer;return j.createElement(J.a.Consumer,null,function(e){return j.createElement(U.ClientLogConsumer,null,function(t){return j.createElement(V.a,{mutation:n.mutations.saveDraft},function(a){return j.createElement(V.a,{mutation:n.mutations.clearDraft},function(l){return j.createElement(V.a,{mutation:n.mutations.createAnswer},function(r){return j.createElement(V.a,{mutation:n.mutations.createAnswerSubmission},function(c){return j.createElement(V.a,{mutation:n.mutations.editAnswer},function(n){return s({saveDraft:function(e,n){if(Object(H.k)(e)){var r,s=d?null===u||void 0===u?void 0:null===(r=u.question)||void 0===r?void 0:r.qid:null===o||void 0===o?void 0:o.qid;return l({variables:{qid:s||0},onCompleted:function(){d||t("QuestionSaveDraft",{qid:null===o||void 0===o?void 0:o.qid})}})}return a(i.saveDraftMutationOptions(e,n,t))},submitAnswer:function(a){return d?n(i.editAnswerMutationOptions(a)):g||(null===e||void 0===e?void 0:e.viewerCanCreateAnswerSubmissions)?c({variables:{qid:(null===o||void 0===o?void 0:o.qid)||0,tribeId:m||(null===e||void 0===e?void 0:e.tribeId)||0,content:JSON.stringify(a)}}):r({variables:{qid:(null===o||void 0===o?void 0:o.qid)||0,content:JSON.stringify(a),tribeId:m||(null===e||void 0===e?void 0:e.tribeId),attachDisclaimer:p},onCompleted:function(e){var n;(null===e||void 0===e?void 0:null===(n=e.answerSubmit)||void 0===n?void 0:n.success)&&t("AddAnswer",{qid:null===o||void 0===o?void 0:o.qid})}})},isTribeSubmission:g||(null===e||void 0===e?void 0:e.viewerCanCreateAnswerSubmissions)||!1})})})})})})})})}}]),n}(j.Component);W.displayName="AnswerEditorMutation",W.fragments={question:void 0!==q?q:q=u,answer:void 0!==Q?Q:Q=o},W.mutations={saveDraft:void 0!==P?P:P=s,clearDraft:void 0!==M?M:M=r,editAnswer:void 0!==D?D:D=i,createAnswer:void 0!==x?x:x=l,createAnswerSubmission:void 0!==R?R:R=a};n.b=Object(V.b)(W)},"Y+rj":function(e,n,t){"use strict";t.r(n),t.d(n,"default",function(){return L});var a={};t.r(a),t.d(a,"default",function(){return k});var l={};t.r(l),t.d(l,"default",function(){return h});var i=t("8ZkK"),r=t.n(i),s=t("tQZz"),o=t.n(s),u=t("7eVb"),d=t.n(u),c=t("n3k3"),m=t.n(c),g=t("10u2"),p=t.n(g),f=function(){var e=[{kind:"LocalArgument",name:"qid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"titlePlaintext",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"sourceUrl",type:"String",defaultValue:null}],n=[{kind:"Variable",name:"qid",variableName:"qid"},{kind:"Variable",name:"sourceUrl",variableName:"sourceUrl"},{kind:"Variable",name:"titlePlaintext",variableName:"titlePlaintext"}],t={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"errorMessage",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"sourceUrl",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"QuestionEditorModal_questionEdit_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"questionEdit",storageKey:null,args:n,concreteType:"QuestionEdit",plural:!1,selections:[t,a,{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[l,i]}]}]},operation:{kind:"Operation",name:"QuestionEditorModal_questionEdit_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"questionEdit",storageKey:null,args:n,concreteType:"QuestionEdit",plural:!1,selections:[t,a,{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[l,i,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]},params:{operationKind:"mutation",name:"QuestionEditorModal_questionEdit_Mutation",id:"ab3bad0846422a245177c3885ea2c92b809a867576cddcc6ae226cc179e82fd9",text:null,metadata:{}}}}();f.hash="baf75d990346c33f0a5a311dfcd18b65";var k=f,b=function(){var e=[{kind:"LocalArgument",name:"qid",type:"BigInt!",defaultValue:null}],n=[{kind:"Variable",name:"qid",variableName:"qid"}],t={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"QuestionEditorModalQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:n,concreteType:"Question",plural:!1,selections:[t,a,l,{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null,isLive:!0},{kind:"ScalarField",alias:null,name:"sourceUrl",args:null,storageKey:null,isLive:!0}]}]},operation:{kind:"Operation",name:"QuestionEditorModalQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:n,concreteType:"Question",plural:!1,selections:[t,a,l,{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"sourceUrl",args:null,storageKey:null}]}]},params:{operationKind:"query",name:"QuestionEditorModalQuery",id:"1421ba3c9f692dd71d6a8b05670e9eb2f534a333796eb3d9911b4176dbe427e5",text:null,metadata:{}}}}();b.hash="7aa4d0082ee5e929926d364541195bfc";var y,v,h=b,S=t("q1tI"),T=t("oJdr"),E=t("VyO/"),F=t("RA+f"),C=t("AFGi"),w=t("F6zL"),K=t("K9ty"),A=t("jufJ"),I=t("xgmy"),L=function(e){function n(e){var t;r()(this,n),t=d()(this,m()(n).call(this,e));var a=e.queryResult.question,l=null!==a&&void 0!==a?a:{},i=l.title,s=void 0===i?"":i,o=l.sourceUrl,u=void 0===o?null:o;return t.state={title:Object(C.n)(s),sourceUrl:u,canSubmit:!1},t}return p()(n,e),o()(n,[{key:"onInputUpdates",value:function(e,n){var t=this.props.queryResult.question;null!=t&&(e===Object(C.n)(t.title)&&n===t.sourceUrl?this.setState({title:e,sourceUrl:n,canSubmit:!1}):this.setState({title:e,sourceUrl:n,canSubmit:!0}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.queryResult.question,l=t.dismissModalFlow,i=this.state,r=i.title,s=i.sourceUrl,o=i.canSubmit;return S.createElement(E.a,{mutation:n.mutations.questionEdit},function(n){return S.createElement(K.d,{titleText:Object(A.I)("Edit Question and Source"),navButtonProps:{onClick:function(){return l()}},secondaryButtonProps:{onClick:function(){return l()},text:Object(A.I)("Cancel")},primaryButtonProps:{text:Object(A.I)("Update"),disabled:!o,onClick:function(){a&&n({variables:{qid:a.qid,titlePlaintext:r,sourceUrl:s}}).then(function(e){var n,t,a=null!==(n=null===e||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:t.questionEdit)&&void 0!==n?n:{},i=a.success,r=a.errorMessage;i?(l(),Object(T.a)({message:Object(A.I)("Thank you for your change. Your edit is being reviewed.")})):Object(T.a)({message:r||Object(A.I)("Could not save question. Please retry."),error:!0})})}}},S.createElement(F.d,{borderAll:!0,borderRadius:"small"},S.createElement(F.d,{p:"small",pb:"tiny",borderBottom:!0},S.createElement(w.c,{value:r,useTextArea:!0,noBorder:!0,autosize:!0,variant:"large",placeholder:Object(A.I)("What is your question?"),onChange:function(n){return e.onInputUpdates(n.target.value,s)}})),S.createElement(F.d,{p:"small",pt:0},S.createElement(I.a,{onSourceUrlChange:function(n){return e.onInputUpdates(r,n)},currentUrl:null!==s&&void 0!==s?s:undefined}))))})}}]),n}(S.Component);L.displayName="QuestionEditorModal",L.queries={onLoad:void 0!==y?y:y=l},L.mutations={questionEdit:void 0!==v?v:v=a}},YKuC:function(e,n,t){"use strict";var a={};t.r(a),t.d(a,"default",function(){return y});var l={};t.r(l),t.d(l,"default",function(){return T});var i=t("rhDr"),r=t.n(i),s=t("8ZkK"),o=t.n(s),u=t("tQZz"),d=t.n(u),c=t("7eVb"),m=t.n(c),g=t("n3k3"),p=t.n(g),f=t("10u2"),k=t.n(f),b=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"AnswerEditorHeader_question",type:"Question",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewerDisplayCredential",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,n,{kind:"FragmentSpread",name:"EditorHeader_credential",args:null}]},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[e,n,{kind:"FragmentSpread",name:"EditorHeader_viewer",args:null}]}]}}();b.hash="1ffa31c58af6675d78e089bce4ffe0f7";var y=b,v=function(){var e=[{kind:"LocalArgument",name:"qid",type:"BigInt!",defaultValue:null}],n=[{kind:"Variable",name:"qid",variableName:"qid"}],t={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerEditorHeaderQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:n,concreteType:"Question",plural:!1,selections:[t,a,{kind:"LinkedField",alias:null,name:"viewerDisplayCredential",storageKey:null,args:null,concreteType:null,plural:!1,selections:[t,a,{kind:"FragmentSpread",name:"EditorHeader_credential",args:null}]}]}]},operation:{kind:"Operation",name:"AnswerEditorHeaderQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:n,concreteType:"Question",plural:!1,selections:[t,a,{kind:"LinkedField",alias:null,name:"viewerDisplayCredential",storageKey:null,args:null,concreteType:null,plural:!1,selections:[t,a,{kind:"ScalarField",alias:null,name:"credentialId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"translatedString",args:null,storageKey:null}]}]}]},params:{operationKind:"query",name:"AnswerEditorHeaderQuery",id:"f0596f1d678198e3b3947864f00480468145cfa1fdd99d47c6125cbf371f460e",text:null,metadata:{}}}}();v.hash="969b76a71b0e6a0b18578f7dd1b45633";var h,S,T=v,E=t("q1tI"),F=t("U3fp"),C=t("0xW3"),w=t("VyO/"),K=function(e){function n(){return o()(this,n),m()(this,p()(n).apply(this,arguments))}return k()(n,e),d()(n,[{key:"componentDidMount",value:function(){var e=this;Object(C.handleEventFromWebnode)("CREDENTIAL_CHANGED",function(){var n=e.props,t=n.question.qid,a=n.relay;a&&a.refetch({qid:t},null,function(){})})}},{key:"render",value:function(){var e=this.props,n=e.question,t=r()(e,["question"]),a=n.viewer,l=n.viewerDisplayCredential;return E.createElement(C.WebnodeBridgeModal,{method:"open_question_choose_credential_modal",kwargs:{qid:n.qid}},function(e){return E.createElement(F.a,Object.assign({openModal:e,credential:l,viewer:a},t))})}}]),n}(E.Component);K.displayName="AnswerEditorHeader",K.queries={refetchQuery:void 0!==h?h:h=l},K.fragments={question:void 0!==S?S:S=a};n.a=Object(w.d)(K)},"ZMf+":function(e,n,t){"use strict";t.r(n),t.d(n,"ContentTypeTabs",function(){return he}),t.d(n,"TribePostFailureTypes",function(){return Se});var a={};t.r(a),t.d(a,"default",function(){return F});var l={};t.r(l),t.d(l,"default",function(){return w});var i={};t.r(i),t.d(i,"default",function(){return A});var r={};t.r(r),t.d(r,"default",function(){return B});var s={};t.r(s),t.d(s,"default",function(){return z});var o={};t.r(o),t.d(o,"default",function(){return X});var u=t("8ZkK"),d=t.n(u),c=t("tQZz"),m=t.n(c),g=t("7eVb"),p=t.n(g),f=t("n3k3"),k=t.n(f),b=t("10u2"),y=t.n(b),v=t("g8yt"),h=t.n(v),S=t("8meh"),T=t.n(S),E=function(){var e=[{kind:"LocalArgument",name:"pid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null}],n=[{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"pid",variableName:"pid"}],t={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"UniversalComposerModal_postEdit_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"postEdit",storageKey:null,args:n,concreteType:"PostEdit",plural:!1,selections:[t,{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:null,concreteType:"Post",plural:!1,selections:[a,l]}]}]},operation:{kind:"Operation",name:"UniversalComposerModal_postEdit_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"postEdit",storageKey:null,args:n,concreteType:"PostEdit",plural:!1,selections:[t,{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:null,concreteType:"Post",plural:!1,selections:[a,l,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]},params:{operationKind:"mutation",name:"UniversalComposerModal_postEdit_Mutation",id:"20d1fe696379d534a04971c1a14360df5649520c3029e0fdd9a2bcad22187887",text:null,metadata:{}}}}();E.hash="a6bdf206cb0d13c1a05e2b98ba2b4149";var F=E,C=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"title",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueue",type:"Boolean!",defaultValue:null}],n=[{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"shouldQueue",variableName:"shouldQueue"},{kind:"Variable",name:"title",variableName:"title"},{kind:"Variable",name:"tribeId",variableName:"tribeId"}],t={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"msg",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"failureType",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"tribeItemId",args:null,storageKey:null},o={kind:"LinkedField",alias:null,name:"viewerPostDraft",storageKey:null,args:null,concreteType:"PostDraft",plural:!1,selections:[i,r,{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null}]},u={kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[o]},d=[i,r,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,r,s,u]}],c=[u],m={kind:"ScalarField",alias:null,name:"contentType",args:null,storageKey:null},g={kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[o,i]},p=[i,r,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,r,s,g]}],f=[r,g,i];return{kind:"Request",fragment:{kind:"Fragment",name:"UniversalComposerModal_postAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"postAdd",storageKey:null,args:n,concreteType:"PostAdd",plural:!1,selections:[t,a,l,{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:null,concreteType:"Post",plural:!1,selections:d},{kind:"LinkedField",alias:null,name:"share",storageKey:null,args:null,concreteType:null,plural:!1,selections:d},{kind:"LinkedField",alias:null,name:"queueItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:c},{kind:"LinkedField",alias:null,name:"submission",storageKey:null,args:null,concreteType:null,plural:!1,selections:c},m]}]},operation:{kind:"Operation",name:"UniversalComposerModal_postAdd_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"postAdd",storageKey:null,args:n,concreteType:"PostAdd",plural:!1,selections:[t,a,l,{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:null,concreteType:"Post",plural:!1,selections:p},{kind:"LinkedField",alias:null,name:"share",storageKey:null,args:null,concreteType:null,plural:!1,selections:p},{kind:"LinkedField",alias:null,name:"queueItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:f},{kind:"LinkedField",alias:null,name:"submission",storageKey:null,args:null,concreteType:null,plural:!1,selections:f},m]}]},params:{operationKind:"mutation",name:"UniversalComposerModal_postAdd_Mutation",id:"0d714099d004ff0414a1231a6c7d8790b4be30b8377ab887f641070926141ee2",text:null,metadata:{}}}}();C.hash="223c2b0ad7fb5220a57d1932e589fed2";var w=C,K=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"pid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"isPostEdit",type:"Boolean!",defaultValue:null}],n=[{kind:"Variable",name:"tribeId",variableName:"tribeId"}],t={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"viewerContentTypesCanAddInTribe",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"viewerCanContribute",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"viewerCanCreateContentQueueItem",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"colorHex",args:null,storageKey:null},u=[t,a,{kind:"ScalarField",alias:null,name:"numericValue",args:null,storageKey:null}],d={kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[t,a,{kind:"LinkedField",alias:"questionTitleFeatureManager",name:"featureManager",storageKey:'featureManager(name:"QuestionTitleMaxLength")',args:[{kind:"Literal",name:"name",value:"QuestionTitleMaxLength"}],concreteType:"FeatureManagerObject",plural:!1,selections:u},{kind:"LinkedField",alias:"postTitleFeatureManager",name:"featureManager",storageKey:'featureManager(name:"QuoraShareAndPostTitleMaxLength")',args:[{kind:"Literal",name:"name",value:"QuoraShareAndPostTitleMaxLength"}],concreteType:"FeatureManagerObject",plural:!1,selections:u},{kind:"ScalarField",alias:null,name:"contentLanguageCode",args:null,storageKey:null}]},c={kind:"ScalarField",alias:"hasSeenTooltip",name:"hasSeenComposerTooltip",args:[{kind:"Literal",name:"tooltipType",value:1}],storageKey:"hasSeenComposerTooltip(tooltipType:1)"},m=[{kind:"Variable",name:"pid",variableName:"pid"}],g={kind:"ScalarField",alias:null,name:"pid",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"UniversalComposerModalQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:n,concreteType:"Tribe",plural:!1,selections:[t,a,l,i,r,s,o,{kind:"FragmentSpread",name:"TribeNameWithIcon_tribe",args:null},{kind:"FragmentSpread",name:"TribeName_tribe",args:null},{kind:"FragmentSpread",name:"SubmissionRulesBanner_tribe",args:null},{kind:"FragmentSpread",name:"PostComposerEditor_tribe",args:null}]},d,{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[c]},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"isPostEdit",selections:[{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:m,concreteType:"Post",plural:!1,selections:[g,p,f]}]}]},operation:{kind:"Operation",name:"UniversalComposerModalQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:n,concreteType:"Tribe",plural:!1,selections:[t,a,l,i,r,s,o,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"iconUrl",args:[{kind:"Literal",name:"size",value:100}],storageKey:"iconUrl(size:100)"},{kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewerPostDraft",storageKey:null,args:null,concreteType:"PostDraft",plural:!1,selections:[t,a,p,f,{kind:"ScalarField",alias:null,name:"saveTime",args:null,storageKey:null}]}]},d,{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[c,t]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"isPostEdit",selections:[{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:m,concreteType:"Post",plural:!1,selections:[g,p,f,t]}]}]},params:{operationKind:"query",name:"UniversalComposerModalQuery",id:"f1e432d2885b98cb3dabdf30d28f5124173f22048d673b4d97bb8bbe6404d746",text:null,metadata:{}}}}();K.hash="aba0c7618f5207962abae39473a819da";var A=K,I=t("q1tI"),L=t("VyO/"),_=t("oJdr"),O=t("yju1"),q=t("AaDK"),Q=t("yX6U"),P=t("Pr93"),M=t("F3/G"),D=t("jufJ"),x=t("RA+f"),R=t("K9ty"),N=t("PuWf"),j=t("iJoy"),V=t.n(j),U=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null}],n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},a=[{kind:"LinkedField",alias:null,name:"postDraftClear",storageKey:null,args:[{kind:"Variable",name:"tribeId",variableName:"tribeId"}],concreteType:"PostDraftClear",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[n,t,{kind:"LinkedField",alias:null,name:"viewerPostDraft",storageKey:null,args:null,concreteType:"PostDraft",plural:!1,selections:[n,t,{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null}]}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"PostComposerEditor_postDraftClear_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:a},operation:{kind:"Operation",name:"PostComposerEditor_postDraftClear_Mutation",argumentDefinitions:e,selections:a},params:{operationKind:"mutation",name:"PostComposerEditor_postDraftClear_Mutation",id:"9103dc4f89dd768a3414f36c24c3079b45a3c5ec7efe35def7d6c71b0f4c384d",text:null,metadata:{}}}}();U.hash="ef7768a660b93766416a4b02d609c607";var B=U,H=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"title",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"isAutoSaved",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"draftId",type:"BigInt",defaultValue:null}],n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},a=[{kind:"LinkedField",alias:null,name:"postDraftSave",storageKey:null,args:[{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"draftId",variableName:"draftId"},{kind:"Variable",name:"isAutoSaved",variableName:"isAutoSaved"},{kind:"Variable",name:"title",variableName:"title"},{kind:"Variable",name:"tribeId",variableName:"tribeId"}],concreteType:"PostDraftSave",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[n,t,{kind:"LinkedField",alias:null,name:"viewerPostDraft",storageKey:null,args:null,concreteType:"PostDraft",plural:!1,selections:[n,t,{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null}]}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"PostComposerEditor_postDraftSave_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:a},operation:{kind:"Operation",name:"PostComposerEditor_postDraftSave_Mutation",argumentDefinitions:e,selections:a},params:{operationKind:"mutation",name:"PostComposerEditor_postDraftSave_Mutation",id:"cb839cc62c80a6a26f44720e16dd1ef2151432b96897ba815ba8d7cddcb5833a",text:null,metadata:{}}}}();H.hash="e0ba6e7f23395f23809c5e3721036cd4";var z=H,J=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"PostComposerEditor_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewerPostDraft",storageKey:null,args:null,concreteType:"PostDraft",plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"saveTime",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"viewerCanContribute",args:null,storageKey:null}]}}();J.hash="c228b13eb822366e49ec40f6954f01a6";var Z,W,Y,G,X=J,$=t("sEfC"),ee=t.n($),ne=t("LJFN"),te=t("EreF"),ae=t("nW6E"),le=t("AFGi"),ie=t("4Xda"),re=t("nwxp"),se=t("VwdU"),oe=t("SKAY"),ue=t("8lmh"),de=t("SW3P");!function(e){e[e["default"]=0]="default",e[e.link=1]="link",e[e.richText=2]="richText"}(G||(G={}));var ce=ee()(function(e){var n=e.title,t=e.content;return(0,e.saveDraft)(n,t,!0)},750,{maxWait:1e4,leading:!0}),me=function(e){function n(e){var t;d()(this,n),(t=p()(this,k()(n).call(this,e))).editorRef=void 0,t.shouldSaveOnClose=void 0,t.bodyPlaceholder=void 0,t.photoPermissionMessageHandler=void 0,t.updateSubmitButton=function(e){t.props.toggleCanSubmit(!e)},t.editorRef=I.createRef();var a=t.getCurrentDraft();t.state={content:a,editorMode:G.richText,hyperlinkUrl:"",isDraftSaving:!1},t.shouldSaveOnClose=!0;var l=t.props.bodyPlaceholder;return t.bodyPlaceholder=l||Object(D.I)("Say something..."),t}return y()(n,e),m()(n,[{key:"componentWillMount",value:function(){this.setupEditor()}},{key:"componentDidMount",value:function(){re.h&&this.photoPermissionMessageHandler!==undefined&&Object(oe.registerMessageHandler)("imageButtonTapped",this.photoPermissionMessageHandler)}},{key:"setupEditor",value:function(){re.h&&Object(O.a)("setupEditor",{hasDraft:!1})}},{key:"getQTextContent",value:function(){return this.editorRef.current?this.editorRef.current.save():this.state.content}},{key:"clearDraft",value:function(){var e=this.props.client,t=this.props.tribe;var a=t.id,l=t.__typename,i=t.viewerPostDraft;if(i){var r=i.id,s=i.__typename;e.mutate({mutation:n.mutations.clearDraft,variables:{tribeId:t.tribeId},optimisticResponse:{postDraftClear:{tribe:{id:a,__typename:l,viewerPostDraft:{id:r,__typename:s,title:null,content:null}}}}}),this.shouldSaveOnClose=!1}else Object(ue.c)("PostComposerEditor","Invalid viewerPostDraft: ".concat(i))}},{key:"getSerializedQTextTitle",value:function(){return JSON.stringify(Object(le.p)(""))}},{key:"getSerializedQTextContent",value:function(){return JSON.stringify(this.getQTextContent())}},{key:"getCurrentDraft",value:function(){var e=this.props,n=e.tribe,t=e.post,a=e.isPostEdit,l=n.viewerPostDraft,i=Object(le.f)(),r=Object(le.f)(),s=a?null===t||void 0===t?void 0:t.title:null===l||void 0===l?void 0:l.title,o=a?null===t||void 0===t?void 0:t.content:null===l||void 0===l?void 0:l.content;return s&&(i=JSON.parse(s)),o&&(r=JSON.parse(o)),a?function(e,n){return{sections:[].concat(V()(e.sections),V()(n.sections))}}(i,r):r}},{key:"getStartingBody",value:function(){return this.state.content||Object(le.f)()}},{key:"isTitleAndBodyEmpty",value:function(){return!(this.editorRef.current&&!this.editorRef.current.state.doc.isOnlyWhiteSpace())}},{key:"renderPhotoPermissionModal",value:function(){var e=this;return I.createElement(ae.c,{standaloneModalProps:{containerProps:{mobileHeight:"55%"},modalProps:{name:"PostPhotoPermissionModal",fetchPolicy:"store-only"},postDismissCallback:function(e){(null===e||void 0===e?void 0:e.success)&&Object(O.a)("showPhotoSelector")}}},function(n){var t=n.openStandaloneModal;return e.photoPermissionMessageHandler=function(){t()},I.createElement(I.Fragment,null)})}},{key:"renderRichTextEditor",value:function(){var e=this;return I.createElement(se.a,{condition:!this.props.tribe.viewerCanContribute,wrapper:function(n){return I.createElement(ae.c,{standaloneModalProps:{containerProps:{mobileHeight:"95%"},modalProps:{name:"TribeSubmissionRulesModal",queryVariables:{tribeId:e.props.tribe.tribeId},desktopWidth:700}}},function(e){var t=e.openStandaloneModal;return n(t)})},elseWrapper:function(e){return e()}},function(n){return I.createElement(ie.a.Consumer,null,function(t){return I.createElement(te.a,{placeholder:e.bodyPlaceholder,content:e.getStartingBody(),settingOverrides:{imageRemoveButtonEnabled:!0,qtext_hyperlink_embed:!0,lightWeightContentToolbar:Object(ne.b)(),isDarkModeOn:t.isDarkModeOn,eagerImageUploading:Object(de.a)("eager_image_uploading")},ref:e.editorRef,isToolbarBottom:!re.g,editorPaddingReset:!0,onMeaningfulChange:function(n){var t=Object(le.n)(e.getSerializedQTextContent());!e.props.isPostEdit&&t.endsWith("?")&&e.props.onQuestionMarkTyped(),e.updateSubmitButton(n.isEmpty()),re.b&&!e.props.isPostEdit&&e.saveDraft()},onRulesButtonClick:n,onEditorSetup:function(n){return e.updateSubmitButton(n.isEmpty())},editorKey:"post-".concat(e.props.tribe.tribeId)})})})}},{key:"render",value:function(){return I.createElement(I.Fragment,null,this.renderRichTextEditor(),re.h&&this.renderPhotoPermissionModal())}},{key:"componentWillUnmount",value:function(){this.shouldSaveOnClose&&this.saveDraft(),re.h&&this.photoPermissionMessageHandler!==undefined&&Object(oe.removeMessageHandler)("imageButtonTapped",this.photoPermissionMessageHandler)}},{key:"saveDraft",value:function(){var e=this,t=this.props,a=t.client,l=t.isPostEdit,i=this.props.tribe,r=this.getSerializedQTextTitle(),s=this.getSerializedQTextContent(),o=i.id,u=i.__typename,d=i.viewerPostDraft;if(d){var c=d.id,m=d.__typename;if(!l){ce({title:r,content:s,saveDraft:function(t,l){if(!e.state.isDraftSaving){e.setState({isDraftSaving:!0});var r=function(){e.setState({isDraftSaving:!1})};a.mutate({mutation:n.mutations.saveDraft,variables:{tribeId:i.tribeId,title:t,content:l,isAutoSaved:!0},optimisticResponse:{postDraftSave:{tribe:{id:o,__typename:u,viewerPostDraft:{id:c,__typename:m,title:t,content:l}},success:!0}},onCompleted:r,onError:r})}}})}}else Object(ue.c)("PostComposerEditor","Invalid viewerPostDraft: ".concat(d))}}]),n}(I.Component);me.displayName="PostComposerEditor",me.fragments={tribe:void 0!==Z?Z:Z=o},me.mutations={saveDraft:void 0!==W?W:W=s,clearDraft:void 0!==Y?Y:Y=r};var ge=Object(L.b)(Object(L.e)(me)),pe=t("LsdO"),fe=t("xgmy"),ke=function(e){function n(e){var t;return d()(this,n),(t=p()(this,k()(n).call(this,e))).questionSelectorRef=void 0,t.questionSelectorRef=I.createRef(),t.state={sourceUrl:""},t}return y()(n,e),m()(n,[{key:"render",value:function(){var e=this;return I.createElement(I.Fragment,null,I.createElement(pe.a,{handleInputChange:function(){return null},initialInput:this.props.initialInput,getCharLimit:this.props.getCharLimit,requestTarget:undefined,inputPlaceholder:Object(D.I)("What is your question?"),showDuplicateQuestions:!1,useTextArea:!0,borderBottom:this.props.borderBottom,charTolerance:.7,ref:this.questionSelectorRef,user:null,session:null,tribe:null}),I.createElement(fe.a,{onSourceUrlChange:function(n){return e.setState({sourceUrl:n})},currentUrl:this.state.sourceUrl}))}}]),n}(I.Component);ke.displayName="QuestionComposerEditor",ke.defaultProps={initialInput:""};var be,ye,ve,he,Se,Te=t("eEjP"),Ee=t("UDrg"),Fe=t("a6Nw"),Ce=t("ZXE+"),we=t("cbxS"),Ke=t("GLiI"),Ae=t("dp7i"),Ie=t("VEaG"),Le=t("xdZJ"),_e=t("ovGs"),Oe=t("4oNN"),qe=t("zLpq"),Qe=t("blLI"),Pe=t("jp/U"),Me=t("HEDm"),De=t("Rk/7"),xe=t("6sb5"),Re=t("Yc5t"),Ne=t("PeiD");!function(e){e.Post="Post",e.Question="Question",e.Link="Link"}(he||(he={})),function(e){e[e.generic=1]="generic",e[e.insufficientPermissions=3]="insufficientPermissions",e[e.titleAndContentEmpty=4]="titleAndContentEmpty",e[e.titleEmpty=5]="titleEmpty",e[e.contentEmpty=6]="contentEmpty",e[e.titleTooLong=7]="titleTooLong",e[e.contentTooLong=8]="contentTooLong",e[e.rateLimitExceeded=9]="rateLimitExceeded"}(Se||(Se={}));var je=function(e,n){var t;return Object(D.I)(I.createElement(D.a,{value:n},(t={},T()(t,Se.generic,"Something went wrong when posting to this space. Please try again later."),T()(t,Se.insufficientPermissions,"You do not have permissions to post in this space."),T()(t,Se.titleAndContentEmpty,"Title and post may not be empty."),T()(t,Se.titleTooLong,"Your title is too long."),T()(t,Se.contentTooLong,"Your post is too long."),T()(t,Se.rateLimitExceeded,"Sorry, you have exceeded the rate limit for creating posts."),t)))};je.displayName="getPostAddToastContent";var Ve=function(e){function n(e){var t;return d()(this,n),(t=p()(this,k()(n).call(this,e))).postEditorRef=void 0,t.questionEditorRef=void 0,t.toggleCanSubmit=function(e){t.setState({canSubmit:e})},t.postEditorRef=I.createRef(),t.questionEditorRef=I.createRef(),t.state={activeTabName:t.getInitialContentTypeTab(),showQuestionTooltip:!1,isSubmitting:!1,canSubmit:!1,hasCopiedPostInputToQuestionInput:!1,hasClosedNuxBanner:!1},t.getQuestionCharLimit=t.getQuestionCharLimit.bind(h()(h()(t))),t}return y()(n,e),m()(n,[{key:"getQuestionCharLimit",value:function(e){return Object(Ce.b)(e)?2e3:null!==(n=null===(t=this.props.queryResult)||void 0===t?void 0:null===(a=t.network)||void 0===a?void 0:null===(l=a.questionTitleFeatureManager)||void 0===l?void 0:l.numericValue)&&void 0!==n?n:Ne.a;var n,t,a,l}},{key:"maybeShowQuestionTooltip",value:function(){var e=this,n=Object(le.n)(this.postEditorRef.current.getSerializedQTextContent()),t=this.getQuestionCharLimit(n),a=this.postEditorRef.current.getQTextContent(),l=Object(le.i)(a,"plain");n.length<=t&&l&&!this.state.showQuestionTooltip&&setTimeout(function(){e.setState({showQuestionTooltip:!0})},1e3)}},{key:"renderBody",value:function(e){var n,t,a,l,i=this;if(!(null===(n=this.props.queryResult)||void 0===n?void 0:n.tribe))return null;var r=this.props.queryResult,s=r.tribe,o=r.network,u=r.post,d=null!==(t=null===o||void 0===o?void 0:null===(a=o.postTitleFeatureManager)||void 0===a?void 0:a.numericValue)&&void 0!==t?t:Ne.a;return I.createElement(I.Fragment,null,this.shouldShowPostTab()&&e===he.Post&&I.createElement(x.d,null,I.createElement(ge,{ref:this.postEditorRef,titleCharLimit:d,titlePlaceholder:Object(D.I)(I.createElement(I.Fragment,null,"Say something to ",I.createElement(N.a,{tribe:s}),"...")),tribe:s,post:u||undefined,isPostEdit:null===(l=this.props.extraProps)||void 0===l?void 0:l.isPostEdit,onQuestionMarkTyped:function(){return i.maybeShowQuestionTooltip()},toggleCanSubmit:this.toggleCanSubmit})),this.shouldShowQuestionTab()&&e===he.Question&&I.createElement(x.d,null,I.createElement(ke,{ref:this.questionEditorRef,getCharLimit:this.getQuestionCharLimit,borderBottom:!1,initialInput:this.state.showQuestionTooltip&&!this.state.hasCopiedPostInputToQuestionInput?Object(le.n)(this.postEditorRef.current.getSerializedQTextContent()):undefined})))}},{key:"submit",value:function(e,n,t){try{t=t||!1,e===he.Post?(this.postEditorRef.current.state.editorMode===G.link?this.submitHyperlink(n,t):this.submitPost(n,t),this.postEditorRef.current.shouldSaveOnClose=!1):e===he.Question&&this.submitQuestion(n,t)}catch(a){Object(ue.c)("UniversalComposerModal-submit","Error: ".concat(a.message)),this.setState({isSubmitting:!1})}}},{key:"editPost",value:function(e){var t=this,a=this.props,l=a.client,i=a.queryResult;if(null===i||void 0===i?void 0:i.post){var r=i.post,s=this.postEditorRef.current.getSerializedQTextContent();l.mutate({mutation:n.mutations.postEdit,variables:{pid:r.pid,content:s}}).then(function(n){var a,l=n.data;(null===l||void 0===l?void 0:null===(a=l.postEdit)||void 0===a?void 0:a.success)&&e({reason:"edit_success"}),t.setState(function(){return{isSubmitting:!1}})})["catch"](function(e){Object(ue.c)("UniversalComposerModal-submit","Error: ".concat(e.message)),t.setState({isSubmitting:!1})})}}},{key:"parseMutationResults",value:function(e,n){switch(n){case Ee.a.POST:var t,a,l=e.postAdd;if(!l)throw new Error("postAdd invalid: ".concat(l));var i=l.post,r=void 0===i?null:i,s=l.share,o=void 0===s?null:s,u=l.failureType,d=l.success,c=l.contentType;return{tribeItemId:(null===r||void 0===r?void 0:null===(t=r.tribeItem)||void 0===t?void 0:t.tribeItemId)||(null===o||void 0===o?void 0:null===(a=o.tribeItem)||void 0===a?void 0:a.tribeItemId),success:d,isSubmission:c===Ee.a.TRIBE_SUBMISSION,failureType:u};case Ee.a.QUESTION:var m=e.questionCreate;if(!m)throw new Error("questionCreate invalid: ".concat(m));var g=m.failureType;if(g===Le.a.shouldBeTribeSubmission)return{success:!0,tribeItemId:null,isSubmission:!0,failureType:g};if(g===Le.a.shouldBeTribeContentQueueItem)return{success:!0,tribeItemId:null,isSubmission:!1,failureType:g};var p,f=m.question;return{success:m.success,tribeItemId:null===f||void 0===f?void 0:null===(p=f.tribeItem)||void 0===p?void 0:p.tribeItemId,isSubmission:!1,failureType:g};case Ee.a.HYPERLINK:var k=null===e||void 0===e?void 0:e.tribeSubmissionAdd,b=null===e||void 0===e?void 0:e.tribeContentQueueItemAdd;if(k)return{success:e.tribeSubmissionAdd.success,tribeItemId:null,isSubmission:!0,failureType:null};if(b)return{success:e.tribeContentQueueItemAdd.success,tribeItemId:null,isSubmission:!1,failureType:null};var y,v=e.shareHyperlinkAdd,h=v.success,S=v.share;return{success:h,tribeItemId:null===S||void 0===S?void 0:null===(y=S.tribeItem)||void 0===y?void 0:y.tribeItemId,isSubmission:!1,failureType:v.failureReason};default:return{}}}},{key:"getToastContent",value:function(e,n,t,a,l){return n?a?Object(D.I)("Your submission was successful."):l?Object(D.I)("You queued this successfully."):null:e===Ee.a.QUESTION?Object(Le.c)(n,t,!1):e===Ee.a.HYPERLINK?Object(Le.d)(n,t):e===Ee.a.POST?je(0,t):Object(D.I)("You can't submit this content.")}},{key:"showPmsgAndMaybeDismissModal",value:function(e,n,t,a){var l=this.parseMutationResults(e,n),i=l.tribeItemId,r=l.success,s=l.isSubmission,o=void 0!==s&&s,u=l.failureType,d=this.getToastContent(n,r,u,o,t);d&&Object(_.a)({message:d,error:!r}),r&&a({reason:"submit_success",tribeItemId:i})}},{key:"submitPost",value:function(e,t){var a=this,l=this.props,i=l.client,r=l.queryResult;if(null===r||void 0===r?void 0:r.tribe){var s=r.tribe,o=this.postEditorRef.current.getSerializedQTextTitle(),u=this.postEditorRef.current.getSerializedQTextContent();i.mutate({mutation:n.mutations.postAdd,variables:{tribeId:s.tribeId,title:o,content:u,shouldQueue:t}}).then(function(n){var l=n.data;a.showPmsgAndMaybeDismissModal(l,Ee.a.POST,t,e),a.setState(function(){return{isSubmitting:!1}})})["catch"](function(e){Object(ue.c)("UniversalComposerModal-submit","Error: ".concat(e.message)),a.setState({isSubmitting:!1})})}}},{key:"submitQuestion",value:function(e,t){var a=this,l=this.props,i=l.client,r=l.queryResult;if(null===r||void 0===r?void 0:r.tribe){var s=r.tribe,o=this.questionEditorRef.current.questionSelectorRef.current.state.input,u=this.questionEditorRef.current.state.sourceUrl;i.mutate({mutation:n.mutations.questionCreate,variables:{titlePlaintext:o,isAnon:!1,sourceUrl:u,sourceLocation:Ae.c.tribes,limitedUserDistro:!1,targetType:Ee.a.TRIBE,targetOid:s.tribeId,shouldCheckDuplicate:!1,shouldCheckCorrection:!1,shouldQueue:t}}).then(function(n){var l=n.data;a.showPmsgAndMaybeDismissModal(l,Ee.a.QUESTION,t,e),a.setState(function(){return{isSubmitting:!1}})})["catch"](function(e){Object(ue.c)("UniversalComposerModal-submit","Error: ".concat(e.message)),a.setState({isSubmitting:!1})})}}},{key:"shouldShowPostTab",value:function(){var e;if(!(null===(e=this.props.queryResult)||void 0===e?void 0:e.tribe))return null;var n=this.props.queryResult.tribe.viewerContentTypesCanAddInTribe;return n.includes(Ee.a.QUORA_SHARE)||n.includes(Ee.a.POST)}},{key:"shouldShowQuestionTab",value:function(){var e,n;if(!(null===(e=this.props.queryResult)||void 0===e?void 0:e.tribe))return null;var t=(null===(n=this.props.queryResult)||void 0===n?void 0:n.tribe).viewerContentTypesCanAddInTribe;return(void 0===t?[]:t).includes(Ee.a.QUESTION)}},{key:"getInitialContentTypeTab",value:function(){return this.shouldShowPostTab()?he.Post:he.Question}},{key:"submitHyperlink",value:function(e,t){var a=this,l=this.postEditorRef.current.state.title,i=this.postEditorRef.current.state.hyperlinkUrl,r=l,s=this.props,o=s.client,u=s.queryResult;if(u){var d,c=u.tribe;if(c)d=!c.viewerCanContribute?{mutation:n.mutations.hyperlinkShareSubmission,variables:{url:i,selectedTribe:c.tribeId,comment:r}}:t?{mutation:n.mutations.hyperlinkContentQueueItemAdd,variables:{url:i,tribeId:c.tribeId,comment:r}}:{mutation:n.mutations.hyperlinkShare,variables:{url:i,selectedTribe:c.tribeId,shareToFeed:!1,comment:r}},o.mutate(d).then(function(n){var l=n.data;a.showPmsgAndMaybeDismissModal(l,Ee.a.HYPERLINK,t,e),a.setState(function(){return{isSubmitting:!1}})})}}},{key:"isPostEditorEmpty",value:function(){return!this.shouldShowPostTab()||this.postEditorRef.current.isTitleAndBodyEmpty()}},{key:"renderNuxBanner",value:function(){var e=this;return I.createElement(Re.b,{ratioThreshold:1,minTimeInViewMs:1e3,onImpression:function(){return Object(q.a)("log_universal_composer_tooltip_impression",{tooltip_type:1})}},I.createElement(x.q,null,I.createElement(x.a,{right:"small",zIndex:"popover"},I.createElement(x.e,{onClick:function(n){n.preventDefault(),e.setState({hasClosedNuxBanner:!0})},hover:{bg:"darken"},mr:"n_small",borderRadius:"circle"},I.createElement(Me.a,{color:"blue"},I.createElement(Ke.a,null)))),I.createElement(we.a,{dismissable:!1,mb:"large",p:re.b?"medium":"small"},I.createElement(D.y,null,I.createElement(x.s,{fontSize:"medium",bold:!0},"Welcome to the new editor")),I.createElement("ul",null,I.createElement("li",null,I.createElement(xe.a,null),I.createElement(Me.a,{size:16},I.createElement(Q.a,null)),I.createElement(D.y,null,I.createElement(x.s,{as:"span",fontSize:"small"},"Adding a link? Paste the URL directly in your post."))),I.createElement("li",null,I.createElement(xe.a,null),I.createElement(D.y,null,I.createElement(x.s,{as:"span",fontSize:"small"},"Tap"," ",I.createElement(D.B,null,I.createElement(Me.a,{size:20,verticalAlign:"bottom"},I.createElement(M.a,null)))," ","to add a title (",I.createElement(D.B,null,I.createElement(Me.a,{size:16},I.createElement(P.a,null))),"), create a list, or access more formatting options.")))))))}},{key:"renderHeader",value:function(){var e,n,t=this;if(!(null===(e=this.props.queryResult)||void 0===e?void 0:e.tribe))return null;var a=this.props.queryResult.tribe,l=this.state.activeTabName,i=I.createElement(x.j,{alignItems:"center",justifyContent:re.b?"center":undefined},I.createElement(Me.a,{color:a.colorHex},I.createElement(Qe.a,null)),I.createElement(x.s,{color:a.colorHex,fontSize:"14px",ml:"tiny"},Object(D.I)("Post"))),r=I.createElement(x.j,{alignItems:"center",justifyContent:re.b?"center":undefined},I.createElement(Me.a,{color:a.colorHex},I.createElement(Pe.a,null)),I.createElement(x.s,{color:a.colorHex,fontSize:"14px",ml:"tiny"},Object(D.I)("Question")));if((null===(n=this.props.extraProps)||void 0===n?void 0:n.isPostEdit)||!this.shouldShowQuestionTab())return i;if(this.shouldShowPostTab()){var s=[];return this.shouldShowPostTab()&&s.push({label:Object(D.I)("Post"),subLabel:Object(D.I)("Post what's on your mind"),onSelected:function(){t.setState(function(e){return{activeTabName:he.Post,hasCopiedPostInputToQuestionInput:e.showQuestionTooltip&&e.activeTabName===he.Question}})}}),this.shouldShowPostTab()&&s.push({label:Object(D.I)("Question"),subLabel:Object(D.I)("Ask others for answers"),onSelected:function(){t.setState({activeTabName:he.Question})}}),I.createElement(x.j,{alignItems:"center",justifyContent:re.b?"center":undefined},I.createElement(Oe.a,{menuItems:s,alignment:"auto"},function(e){return I.createElement(se.a,{condition:t.state.showQuestionTooltip,wrapper:function(e){return I.createElement(De.a,{text:Object(D.I)("Is this a question?"),subText:Object(D.I)("Asking a question means you will get more answers"),placement:"bottom",autoDismiss:!0,dismissable:!0,display:null},e)}},I.createElement(qe.a,{icon:I.createElement(Me.a,{color:a.colorHex},l===he.Post?I.createElement(Qe.a,null):I.createElement(Pe.a,null)),text:l===he.Post?Object(D.I)("Post"):Object(D.I)("Question"),textColor:a.colorHex,onClick:e,chevronSuffix:"down_flippable"}))}))}return r}},{key:"renderPrimaryButton",value:function(){var e=this,n=this.props,t=n.dismissModalFlow,a=n.extraProps,l=this.state.activeTabName,i=null;i=a.isPostEdit?{text:Object(D.I)("Update"),onClick:function(){e.state.isSubmitting||e.setState({isSubmitting:!0},function(){e.editPost(t)})}}:{text:l===he.Post?Object(D.I)("Post"):Object(D.I)("Ask"),onClick:function(){e.state.isSubmitting||e.setState({isSubmitting:!0},function(){e.submit(l,t)})}};var r=this.state.activeTabName===he.Post&&!this.state.canSubmit;return Object.assign({},i,{disabled:this.state.isSubmitting||r,useHaptics:!0})}},{key:"render",value:function(){var e,n=this,t=this.props,a=t.dismissModalFlow,l=t.extraProps,i=t.queryResult;if(!(null===i||void 0===i?void 0:i.tribe))return null;var r=i.tribe,s=i.viewer.hasSeenTooltip,o=r.viewerCanContribute,u=r.viewerCanCreateContentQueueItem,d=!o,c=this.state.activeTabName,m=this.renderPrimaryButton(),g=u&&!(null===l||void 0===l?void 0:l.isPostEdit)?{buttonComponent:I.createElement(_e.d,{onSelectQueueItem:function(){return n.submit(c,a,!0)}})}:null,p=d&&!Object(ne.b)();return I.createElement(R.d,{navButton:"close",primaryButtonProps:m,secondaryButtonProps:g,hasPadding:!1,navButtonProps:{onClick:function(){var e,t,l=null===(e=n.postEditorRef.current)||void 0===e?void 0:e.getQTextContent();(null===(t=n.props.extraProps)||void 0===t?void 0:t.isPostEdit)||!l||Object(le.k)(l)||!re.f||n.state.activeTabName!==he.Post?a({reason:"close"}):Object(O.a)("showActionSheet",{title:"",buttonTitles:[Object(D.I)("Clear Draft"),Object(D.I)("Save Draft"),Object(D.I)("Keep Editing")],destructiveButtonIndex:0},function(e){var t=e.buttonIndex,l=function(e){re.h?a({reason:e}):setTimeout(function(){a({reason:e})},500)};0===t?(n.postEditorRef.current.clearDraft(),l("close_clear_draft")):1===t&&(n.postEditorRef.current.saveDraft(),l("close_save_draft"))})}},header:null!==(e=this.renderHeader())&&void 0!==e?e:undefined},I.createElement(x.d,{px:"medium",pt:"small"},p&&I.createElement(Fe.a,{tribe:r}),!s&&!this.state.hasClosedNuxBanner&&this.renderNuxBanner(),I.createElement(x.d,{mt:p?"medium":"",mb:re.h?"medium":"small"},I.createElement(Te.a,{tribe:r,linked:!1,includeHovercard:!1})),this.renderBody(c)))}}]),n}(I.Component);Ve.queries={onLoad:void 0!==be?be:be=i},Ve.mutations={postAdd:void 0!==ye?ye:ye=l,postEdit:void 0!==ve?ve:ve=a,questionCreate:Ie.QUESTION_CREATION_MUTATION,hyperlinkShare:Ie.HYPERLINK_SHARE_MUTATION,hyperlinkShareSubmission:Ie.HYPERLINK_SHARE_TRIBE_SUBMISSION_MUTATION,hyperlinkContentQueueItemAdd:Ie.TRIBE_CONTENT_QUEUE_ITEM_ADD_MUTATION};n["default"]=Object(L.b)(Object(L.e)(Ve))},ZR8f:function(e,n,t){"use strict";t.r(n),t.d(n,"default",function(){return Q});var a={};t.r(a),t.d(a,"default",function(){return k});var l=t("8ZkK"),i=t.n(l),r=t("tQZz"),s=t.n(r),o=t("7eVb"),u=t.n(o),d=t("n3k3"),c=t.n(d),m=t("10u2"),g=t.n(m),p=function(){var e=[{kind:"LocalArgument",name:"aid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"qid",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"isAnswerEdit",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"hasContextualTribe",type:"Boolean!",defaultValue:null}],n=[{kind:"Variable",name:"qid",variableName:"qid"}],t={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"viewerHasSubmissionToQuestion",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},s={kind:"LinkedField",alias:null,name:"viewerDraft",storageKey:null,args:null,concreteType:"AnswerDraft",plural:!1,selections:[t,a,r]},o={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},u={kind:"FragmentSpread",name:"TribeContextProvider_tribe",args:null},d={kind:"FragmentSpread",name:"SubmissionRulesBanner_tribe",args:null},c={kind:"FragmentSpread",name:"AnswerEditorHeader_question",args:null},m={kind:"FragmentSpread",name:"QuestionTitle_question",args:null},g=[{kind:"Variable",name:"aid",variableName:"aid"}],p={kind:"ScalarField",alias:null,name:"aid",args:null,storageKey:null},f=[{kind:"Variable",name:"tribeId",variableName:"tribeId"}],k={kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"viewerCanCreateContentQueueItem",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"viewerCanCreateAnswerSubmissions",args:null,storageKey:null},v={kind:"ScalarField",alias:null,name:"viewerCanContribute",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null},S={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},T={kind:"LinkedField",alias:null,name:"viewerDisplayCredential",storageKey:null,args:null,concreteType:null,plural:!1,selections:[t,a,{kind:"ScalarField",alias:null,name:"credentialId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"translatedString",args:null,storageKey:null}]},E=[a,t,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],F={kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[t,a,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[t,a,{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:E},{kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:E},{kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}]}]}]},C={kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},w={kind:"ScalarField",alias:null,name:"isPartnerQuestion",args:null,storageKey:null},K={kind:"LinkedField",alias:null,name:"asker",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[t,a,{kind:"ScalarField",alias:null,name:"isEmployee",args:null,storageKey:null}]};return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerEditorModalQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"Condition",isCustom:!1,customValue:null,passingValue:!1,condition:"isAnswerEdit",selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:n,concreteType:"Question",plural:!1,selections:[t,a,l,i,s,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[t,a,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[t,a,o,u,d]}]},c,{kind:"FragmentSpread",name:"AnswerEditorMutation_question",args:null},m]}]},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"isAnswerEdit",selections:[{kind:"LinkedField",alias:null,name:"answer",storageKey:null,args:g,concreteType:"Answer",plural:!1,selections:[t,a,p,{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null,isLive:!0},{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[t,a,l,m,c]},s,{kind:"FragmentSpread",name:"AnswerEditorMutation_answer",args:null}]}]},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"hasContextualTribe",selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:f,concreteType:"Tribe",plural:!1,selections:[o,u,d]}]}]},operation:{kind:"Operation",name:"AnswerEditorModalQuery",argumentDefinitions:e,selections:[{kind:"Condition",passingValue:!1,isCustom:!1,customValue:null,condition:"isAnswerEdit",selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:n,concreteType:"Question",plural:!1,selections:[t,a,l,i,s,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[t,a,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[t,a,o,k,b,y,v,h,S]}]},T,F,C,o,w,K]}]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"isAnswerEdit",selections:[{kind:"LinkedField",alias:null,name:"answer",storageKey:null,args:g,concreteType:"Answer",plural:!1,selections:[t,a,p,r,{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[t,a,l,C,o,w,K,T,F,{kind:"LinkedField",alias:null,name:"viewerDraft",storageKey:null,args:null,concreteType:"AnswerDraft",plural:!1,selections:[t,a]}]},s,{kind:"ScalarField",alias:null,name:"hasDisclaimer",args:null,storageKey:null}]}]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"hasContextualTribe",selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:f,concreteType:"Tribe",plural:!1,selections:[o,k,b,y,v,t,a,h,S]}]}]},params:{operationKind:"query",name:"AnswerEditorModalQuery",id:"c71614d7270d0ec4bf8eb1b123688b4850c88f8231ff1442137c26849e41c7a3",text:null,metadata:{}}}}();p.hash="0450d8fd6dd5f8ebf2d4d9386d3a98c6";var f,k=p,b=t("q1tI"),y=t("oJdr"),v=t("nwxp"),h=t("AaDK"),S=t("Gnru"),T=t("nW6E"),E=t("AFGi"),F=t("VwdU"),C=t("Kk/C"),w=t("zm58"),K=t("jufJ"),A=t("RA+f"),I=t("bqYg"),L=t("a6Nw"),_=t("Vx0C"),O=t("YKuC"),q=function(e){var n=e.isAnswerEdit,t=e.pageFramework,a=e.sourceComponent,l=e.clientLogMetadata,i=void 0===l?{}:l;return b.useEffect(function(){n||Object(S.logEvent)(i,"AnswerAddModalOpen",{})},[i,n]),b.useEffect(function(){Object(h.a)("answer_editor_opened",{pageFramework:t,editorFramework:"react",editorType:"modal",sourceComponent:a})},[t,a]),null},Q=function(e){function n(e){var t;return i()(this,n),(t=u()(this,c()(n).call(this,e))).state={isSubmitting:!1},t}return g()(n,e),s()(n,[{key:"getStartingContent",value:function(){var e=this.props,n=e.queryResult,t=n.question,a=n.answer,l=e.extraProps.isAnswerEdit,i=l?a:t;if(!i)return Object(E.f)();var r=i.viewerDraft;if(null===r||void 0===r?void 0:r.content){var s=JSON.parse(r.content);if(!Object(E.k)(s))return s}return l&&a?JSON.parse(a.content):Object(E.f)()}},{key:"getEditorKey",value:function(){var e=this.props,n=e.queryResult,t=n.question,a=void 0===t?null:t,l=n.answer,i=void 0===l?null:l,r=e.extraProps.isAnswerEdit,s=r?"answer":"question",o=r?null===i||void 0===i?void 0:i.aid:null===a||void 0===a?void 0:a.qid;return"".concat(s,"-").concat(o)}},{key:"render",value:function(){var e,n=this,t=this.props,a=t.queryResult,l=a.question,i=void 0===l?null:l,r=a.answer,s=void 0===r?null:r,o=a.tribe,u=t.dismissModalFlow,d=t.extraProps,c=d.isAnswerEdit,m=d.pageFramework,g=d.sourceComponent,p=d.clientLogMetadata,f=void 0===p?"{}":p,k=(null===i||void 0===i?void 0:null===(e=i.tribeItem)||void 0===e?void 0:e.tribe)||o,E=this.state.isSubmitting,Q=c?null===s||void 0===s?void 0:s.question:i;return b.createElement(S.ClientLogProvider,{value:JSON.parse(f)},b.createElement(F.a,{condition:!!k,wrapper:function(e){return k?b.createElement(I.b,{tribe:k},e):{children:e}}},b.createElement(T.c,{standaloneModalProps:{modalProps:{name:"AnswerUnconfirmedEmailModal"},containerProps:{legacy:!0}}},function(e){var t=e.openStandaloneModal;return b.createElement(b.Fragment,null,b.createElement(q,{isAnswerEdit:c,pageFramework:m,sourceComponent:g,clientLogMetadata:f}),b.createElement(_.b,{question:i,answer:s,isAnswerEdit:c},function(e){var a=e.saveDraft,l=e.submitAnswer,i=e.isTribeSubmission;return b.createElement(w.a,{editorKey:n.getEditorKey(),header:b.createElement(A.d,{bg:"gray_ultralight",borderBottom:!0},i&&k&&b.createElement(L.a,{tribe:k}),b.createElement(A.d,{px:"medium",py:"medium",borderTop:i},Q&&b.createElement(C.a,{question:Q}),v.b&&Q&&b.createElement(O.a,{question:Q,pt:"medium"}))),saveDraft:function(e,n){return a(e,n)},onPrimaryButtonClick:function(e){Object(h.a)("answer_editor_modal_submit",{qid:null===Q||void 0===Q?void 0:Q.qid,pageFramework:m,editorFramework:"react",sourceComponent:g}),n.setState(function(){return{isSubmitting:!0}}),E||l(e).then(function(e){var a,l,r=null!==(a=null===e||void 0===e?void 0:null===(l=e.data)||void 0===l?void 0:l.answerSubmit)&&void 0!==a?a:{},s=r.errorType,o=r.success,d=r.redirectUrl;o?u(i?{redirectUrl:null===k||void 0===k?void 0:k.url,submission:!0}:{redirectUrl:d,submission:!0}):"add_answer_block"===s?(u({submission:!1}),t()):(Object(y.a)({message:Object(K.I)(b.createElement(_.a,{errorType:s})),error:!0}),n.setState(function(){return{isSubmitting:!1}}))})},onNavButtonClick:function(){return u({submission:!1})},startingContent:n.getStartingContent(),titleText:Object(K.I)(c?"Edit your answer":"Your answer"),onFirstChange:function(){return Object(h.a)("answer_editor_modal_first_type",{pageFramework:m,editorFramework:"react",sourceComponent:g})},primaryButtonDisabled:E})}))})))}}]),n}(b.Component);Q.displayName="AnswerEditorModal",Q.queries={onLoad:void 0!==f?f:f=a}},a6Nw:function(e,n,t){"use strict";var a={};t.r(a),t.d(a,"default",function(){return k});var l,i=t("8ZkK"),r=t.n(i),s=t("tQZz"),o=t.n(s),u=t("7eVb"),d=t.n(u),c=t("n3k3"),m=t.n(c),g=t("10u2"),p=t.n(g),f={kind:"Fragment",name:"SubmissionRulesBanner_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null},{kind:"FragmentSpread",name:"TribeName_tribe",args:null},{kind:"FragmentSpread",name:"SubmissionRulesText_tribe",args:null}],hash:"79f9a5bd4e675a22759f9b996194210e"},k=f,b=t("q1tI"),y=t("jufJ"),v=t("PuWf"),h=t("cbxS"),S=t("VyO/"),T=t("RAJQ"),E=function(e){function n(){return r()(this,n),d()(this,m()(n).apply(this,arguments))}return p()(n,e),o()(n,[{key:"renderTitle",value:function(){return b.createElement(y.y,null,"You're submitting to ",b.createElement(v.a,{tribe:this.props.tribe}),".")}},{key:"render",value:function(){return b.createElement(h.a,{variant:"muted",dismissable:!1,translatedText:this.renderTitle(),translatedSubtext:b.createElement(T.a,{tribe:this.props.tribe,bg:"gray_ultralight"})})}}]),n}(b.Component);E.displayName="SubmissionRulesBanner",E.fragments={tribe:void 0!==l?l:l=a};n.a=Object(S.b)(E)},blLI:function(e,n,t){"use strict";var a=t("q1tI"),l=t.n(a),i=function(e){return l.a.createElement("svg",Object.assign({width:"24px",height:"24px",viewBox:"0 0 24 24"},e),l.a.createElement("g",{stroke:"none",fill:"none",fillRule:"evenodd",transform:"translate(11.500000, 12.500000) rotate(-315.000000) translate(-11.500000, -12.500000) translate(9.500000, 2.500000)"},l.a.createElement("path",{d:"M2,0 L2,0 C3.1045695,-2.02906125e-16 4,0.8954305 4,2 L4,16 L2.00256278,20 L9.48676901e-20,16 L0,2 C-1.3527075e-16,0.8954305 0.8954305,2.02906125e-16 2,0 Z",id:"pen_body",className:"icon_svg-stroke",stroke:"#666",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),l.a.createElement("polygon",{id:"pen_tip",className:"icon_svg-fill_as_stroke",fill:"#666",transform:"translate(2.000000, 18.750000) scale(1, -1) translate(-2.000000, -18.750000) ",points:"2 17.5 3.25 20 0.75 20"})))};i.displayName="SvgPen",n.a=i},bslc:function(e,n,t){"use strict";var a={};t.r(a),t.d(a,"default",function(){return k});var l,i=t("8ZkK"),r=t.n(i),s=t("tQZz"),o=t.n(s),u=t("7eVb"),d=t.n(u),c=t("n3k3"),m=t.n(c),g=t("10u2"),p=t.n(g),f={kind:"Fragment",name:"QuestionAnswerCount_question",type:"Question",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"answerCount",args:null,storageKey:null}],hash:"10f534cb260ae9c021a6e2d00c0e113f"},k=f,b=t("q1tI"),y=t("RA+f"),v=t("jufJ"),h=t("VyO/"),S=function(e){var n=e.size,t=void 0===n?"regular":n,a=e.count;return a>0?b.createElement(y.s,{fontSize:t,color:"gray_light"},b.createElement(v.y,null,b.createElement(v.h,{value:a}),b.createElement(v.w,{value:a},{ONE:" Answer",OTHER:" Answers"}))):b.createElement(y.s,{fontSize:t,color:"gray_light"},b.createElement(v.y,null,"No answers yet"))};S.displayName="AnswerCount";var T=function(e){function n(){return r()(this,n),d()(this,m()(n).apply(this,arguments))}return p()(n,e),o()(n,[{key:"render",value:function(){var e=this.props.question.answerCount;return b.createElement(S,{size:"small",count:e})}}]),n}(b.Component);T.displayName="QuestionAnswerCount",T.fragments={question:void 0!==l?l:l=a};n.a=Object(h.b)(T)},dRzG:function(e,n,t){"use strict";t.r(n),t.d(n,"default",function(){return C});var a={};t.r(a),t.d(a,"default",function(){return k});var l=t("8ZkK"),i=t.n(l),r=t("tQZz"),s=t.n(r),o=t("7eVb"),u=t.n(o),d=t("n3k3"),c=t.n(d),m=t("10u2"),g=t.n(m),p=function(){var e=[{kind:"LocalArgument",name:"containerId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"replyToId",type:"BigInt",defaultValue:null}],n=[{kind:"Variable",name:"commentType",variableName:"commentType"},{kind:"Variable",name:"containerId",variableName:"containerId"},{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"replyToId",variableName:"replyToId"}],t={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"commentDraftContent",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"CommentAddModal_commentDraftAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"commentDraftAdd",storageKey:null,args:n,concreteType:"CommentDraftAdd",plural:!1,selections:[t,{kind:"LinkedField",alias:null,name:"container",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a]}]}]},operation:{kind:"Operation",name:"CommentAddModal_commentDraftAdd_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"commentDraftAdd",storageKey:null,args:n,concreteType:"CommentDraftAdd",plural:!1,selections:[t,{kind:"LinkedField",alias:null,name:"container",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},a,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]},params:{operationKind:"mutation",name:"CommentAddModal_commentDraftAdd_Mutation",id:"9085b74e7a4a04c8c0f193faa7c8f9ae1515f0c744ae24130102d4d83894d0b6",text:null,metadata:{}}}}();p.hash="993ecd6f5e581d8f72601f2dd538b791";var f,k=p,b=t("q1tI"),y=t("VyO/"),v=t("jufJ"),h=t("zm58"),S=t("AFGi"),T=t("Y+p1"),E=t.n(T),F=t("nwxp"),C=function(e){function n(){return i()(this,n),u()(this,c()(n).apply(this,arguments))}return g()(n,e),s()(n,[{key:"render",value:function(){var e=this.props,t=e.extraProps,a=e.dismissModalFlow,l=t.commentType,i=t.containerId,r=t.commentDraftContent,s=r?JSON.parse(r):Object(S.f)();return b.createElement(y.a,{mutation:n.mutations.saveDraft},function(e){return b.createElement(h.a,{onPrimaryButtonClick:function(e){return a({content:e})},onNavButtonClick:function(e){return a({shouldRefetch:F.h&&e&&!E()(e,s)})},editorKey:"add-comment-".concat(l,"-").concat(i),titleText:Object(v.I)("Add Comments"),startingContent:s,placeholder:Object(v.I)("Add a comment..."),saveDraft:function(n){return e({variables:{containerId:i,commentType:l,content:JSON.stringify(n)}})}})})}}]),n}(b.Component);C.displayName="CommentAddModal",C.mutations={saveDraft:void 0!==f?f:f=a}},dzmh:function(e,n,t){"use strict";var a=t("q1tI"),l=t.n(a),i=function(e){return l.a.createElement("svg",Object.assign({width:"24px",height:"24px",viewBox:"0 0 24 24"},e),l.a.createElement("g",{id:"overflow",className:"icon_svg-stroke",strokeWidth:1.5,stroke:"#666",fill:"none",fillRule:"evenodd"},l.a.createElement("path",{d:"M5,14 C3.8954305,14 3,13.1045695 3,12 C3,10.8954305 3.8954305,10 5,10 C6.1045695,10 7,10.8954305 7,12 C7,13.1045695 6.1045695,14 5,14 Z M12,14 C10.8954305,14 10,13.1045695 10,12 C10,10.8954305 10.8954305,10 12,10 C13.1045695,10 14,10.8954305 14,12 C14,13.1045695 13.1045695,14 12,14 Z M19,14 C17.8954305,14 17,13.1045695 17,12 C17,10.8954305 17.8954305,10 19,10 C20.1045695,10 21,10.8954305 21,12 C21,13.1045695 20.1045695,14 19,14 Z"})))};i.displayName="SvgOverflow",n.a=i},eEjP:function(e,n,t){"use strict";var a={};t.r(a),t.d(a,"default",function(){return k});var l,i=t("8ZkK"),r=t.n(i),s=t("tQZz"),o=t.n(s),u=t("7eVb"),d=t.n(u),c=t("n3k3"),m=t.n(c),g=t("10u2"),p=t.n(g),f={kind:"Fragment",name:"TribeNameWithIcon_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"FragmentSpread",name:"TribeName_tribe",args:null},{kind:"FragmentSpread",name:"TribeIcon_tribe",args:null}],hash:"024f743551d85165552e0c6cdb388fb2"},k=f,b=t("q1tI"),y=t("RA+f"),v=t("VyO/"),h=t("n2ec"),S=t("PuWf"),T=function(e){function n(){return r()(this,n),d()(this,m()(n).apply(this,arguments))}return p()(n,e),o()(n,[{key:"render",value:function(){var e=this.props,n=e.tribe,t=e.bold,a=e.color,l=e.linked,i=e.includeHovercard;return b.createElement(y.j,{alignItems:"center"},b.createElement(y.n,{mr:"tiny"},b.createElement(h.a,{tribe:n,size:18,linked:l,includeHovercard:i})),b.createElement(y.s,{bold:t,fontSize:"small",color:a},b.createElement(S.a,{tribe:n})))}}]),n}(b.Component);T.displayName="TribeNameWithIcon",T.fragments={tribe:void 0!==l?l:l=a},T.defaultProps={bold:!0,color:"gray_dark",linked:!0,includeHovercard:!0};n.a=Object(v.b)(T)},eL6j:function(e,n,t){"use strict";t.d(n,"a",function(){return T});var a={};t.r(a),t.d(a,"default",function(){return k});var l=t("8ZkK"),i=t.n(l),r=t("tQZz"),s=t.n(r),o=t("7eVb"),u=t.n(o),d=t("n3k3"),c=t.n(d),m=t("10u2"),g=t.n(m),p=function(){var e={kind:"ScalarField",alias:null,name:"linkUrl",args:[{kind:"Literal",name:"name",value:"spaces_faq"}],storageKey:'linkUrl(name:"spaces_faq")'},n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"TribeFAQLinkQuery",type:"QueryRoot",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[e]}]}]},operation:{kind:"Operation",name:"TribeFAQLinkQuery",argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[e,n]},n]}]},params:{operationKind:"query",name:"TribeFAQLinkQuery",id:"6f26250c0ccc094b223e7a4fa8c0f3b5cbdd772d2d9e28d3693bfdbe2db9b2ea",text:null,metadata:{}}}}();p.hash="30de5af5245998a99d2536f42e034bb5";var f,k=p,b=t("q1tI"),y=t.n(b),v=t("zLpq"),h=t("jufJ"),S=t("D5Zh"),T=function(e){function n(){return i()(this,n),u()(this,c()(n).apply(this,arguments))}return g()(n,e),s()(n,[{key:"render",value:function(){return y.a.createElement(y.a.Fragment,null,y.a.createElement(S.a,{query:n.queries.getLinkUrl},function(e){var n,t,a=e.data;if(e.loading)return null;var l=null===(n=a.viewer)||void 0===n?void 0:null===(t=n.network)||void 0===t?void 0:t.linkUrl;return y.a.createElement(v.a,{href:l,navStyle:"present",text:Object(h.I)("Learn more"),chevronSuffix:"right"})}))}}]),n}(y.a.Component);T.displayName="TribeFAQLink",T.queries={getLinkUrl:void 0!==f?f:f=a}},fJcQ:function(e,n,t){"use strict";t.r(n),t.d(n,"TribePostFailureTypes",function(){return V});var a={};t.r(a),t.d(a,"default",function(){return v});var l={};t.r(l),t.d(l,"default",function(){return S});var i={};t.r(i),t.d(i,"default",function(){return O});var r=t("8ZkK"),s=t.n(r),o=t("tQZz"),u=t.n(o),d=t("7eVb"),c=t.n(d),m=t("n3k3"),g=t.n(m),p=t("10u2"),f=t.n(p),k=t("8meh"),b=t.n(k),y=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"title",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueue",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"parentPid",type:"BigInt",defaultValue:null}],n=[{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"parentPid",variableName:"parentPid"},{kind:"Variable",name:"shouldQueue",variableName:"shouldQueue"},{kind:"Variable",name:"title",variableName:"title"},{kind:"Variable",name:"tribeId",variableName:"tribeId"}],t={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"msg",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"failureType",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"tribeItemId",args:null,storageKey:null},o={kind:"LinkedField",alias:null,name:"viewerPostDraft",storageKey:null,args:null,concreteType:"PostDraft",plural:!1,selections:[i,r,{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null}]},u=[i,r,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,r,s,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[o]}]}],d={kind:"ScalarField",alias:null,name:"contentType",args:null,storageKey:null},c=[i,r,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,r,s,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[o,i]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"PostOnlyComposerModal_postAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"postAdd",storageKey:null,args:n,concreteType:"PostAdd",plural:!1,selections:[t,a,l,{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:null,concreteType:"Post",plural:!1,selections:u},{kind:"LinkedField",alias:null,name:"share",storageKey:null,args:null,concreteType:null,plural:!1,selections:u},d]}]},operation:{kind:"Operation",name:"PostOnlyComposerModal_postAdd_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"postAdd",storageKey:null,args:n,concreteType:"PostAdd",plural:!1,selections:[t,a,l,{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:null,concreteType:"Post",plural:!1,selections:c},{kind:"LinkedField",alias:null,name:"share",storageKey:null,args:null,concreteType:null,plural:!1,selections:c},d]}]},params:{operationKind:"mutation",name:"PostOnlyComposerModal_postAdd_Mutation",id:"9fac14020970715a356e5c65fcacdc85651421c91275f7bbf90757004071397e",text:null,metadata:{}}}}();y.hash="58fde0e11d15c404843598815cce90f9";var v=y,h=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null}],n=[{kind:"Variable",name:"tribeId",variableName:"tribeId"}],t={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"colorHex",args:null,storageKey:null},r={kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[t,a,{kind:"LinkedField",alias:"postTitleFeatureManager",name:"featureManager",storageKey:'featureManager(name:"QuoraShareAndPostTitleMaxLength")',args:[{kind:"Literal",name:"name",value:"QuoraShareAndPostTitleMaxLength"}],concreteType:"FeatureManagerObject",plural:!1,selections:[t,a,{kind:"ScalarField",alias:null,name:"numericValue",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"contentLanguageCode",args:null,storageKey:null}]};return{kind:"Request",fragment:{kind:"Fragment",name:"PostOnlyComposerModalQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:n,concreteType:"Tribe",plural:!1,selections:[t,a,l,i,{kind:"FragmentSpread",name:"TribeNameWithIcon_tribe",args:null},{kind:"FragmentSpread",name:"TribeName_tribe",args:null},{kind:"FragmentSpread",name:"SubmissionRulesBanner_tribe",args:null},{kind:"FragmentSpread",name:"PostOnlyComposerEditor_tribe",args:null}]},r]},operation:{kind:"Operation",name:"PostOnlyComposerModalQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:n,concreteType:"Tribe",plural:!1,selections:[t,a,l,i,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"iconUrl",args:[{kind:"Literal",name:"size",value:100}],storageKey:"iconUrl(size:100)"},{kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewerPostDraft",storageKey:null,args:null,concreteType:"PostDraft",plural:!1,selections:[t,a,{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"saveTime",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"viewerCanContribute",args:null,storageKey:null}]},r]},params:{operationKind:"query",name:"PostOnlyComposerModalQuery",id:"30b748064031f6dc7ddcb36b67da7b670637a84c9eb25ec6054b9a982aa7c5a8",text:null,metadata:{}}}}();h.hash="fe09e23cfaca346e6008231b241186cb";var S=h,T=t("q1tI"),E=t("VyO/"),F=t("oJdr"),C=t("jufJ"),w=t("RA+f"),K=t("K9ty"),A=t("PuWf"),I=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"PostOnlyComposerEditor_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewerPostDraft",storageKey:null,args:null,concreteType:"PostDraft",plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"saveTime",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"viewerCanContribute",args:null,storageKey:null}]}}();I.hash="fdaf9fbbf4a86c16454cca2bb68155f7";var L,_,O=I,q=t("LJFN"),Q=t("EreF"),P=t("nW6E"),M=t("AFGi"),D=t("nwxp"),x=t("VwdU");!function(e){e[e["default"]=0]="default",e[e.link=1]="link",e[e.richText=2]="richText"}(_||(_={}));var R=function(e){function n(e){var t;s()(this,n),(t=c()(this,g()(n).call(this,e))).editorRef=void 0,t.bodyPlaceholder=void 0,t.editorRef=T.createRef(),t.state={editorMode:_.richText,hyperlinkUrl:""};var a=t.props.bodyPlaceholder;return t.bodyPlaceholder=a||Object(C.I)("Say something..."),t}return f()(n,e),u()(n,[{key:"getQTextContent",value:function(){return this.editorRef.current.save()}},{key:"getSerializedQTextContent",value:function(){return JSON.stringify(this.getQTextContent())}},{key:"getStartingBody",value:function(){return Object(M.f)()}},{key:"isTitleAndBodyEmpty",value:function(){return!(this.editorRef.current&&!this.editorRef.current.state.doc.isOnlyWhiteSpace())}},{key:"renderRichTextEditor",value:function(){var e=this;return T.createElement(x.a,{condition:Object(q.b)()&&!this.props.tribe.viewerCanContribute,wrapper:function(n){return T.createElement(P.c,{standaloneModalProps:{containerProps:{mobileHeight:"95%"},modalProps:{name:"TribeSubmissionRulesModal",queryVariables:{tribeId:e.props.tribe.tribeId}}}},function(e){var t=e.openStandaloneModal;return n(t)})},elseWrapper:function(e){return e()}},function(n){return T.createElement(Q.a,{placeholder:e.bodyPlaceholder,content:e.getStartingBody(),ref:e.editorRef,isToolbarBottom:!D.g,editorPaddingReset:!0,onRulesButtonClick:n,editorKey:"post-".concat(e.props.tribe.tribeId)})})}},{key:"render",value:function(){return this.renderRichTextEditor()}}]),n}(T.Component);R.displayName="PostOnlyComposerEditor",R.fragments={tribe:void 0!==L?L:L=i};var N,j,V,U=Object(E.b)(R);!function(e){e[e.generic=1]="generic",e[e.insufficientPermissions=3]="insufficientPermissions",e[e.titleAndContentEmpty=4]="titleAndContentEmpty",e[e.titleEmpty=5]="titleEmpty",e[e.contentEmpty=6]="contentEmpty",e[e.titleTooLong=7]="titleTooLong",e[e.contentTooLong=8]="contentTooLong"}(V||(V={}));var B=function(e,n){var t;return Object(C.I)(T.createElement(C.a,{value:n},(t={},b()(t,V.generic,"Something went wrong when posting to this space. Please try again later."),b()(t,V.insufficientPermissions,"You do not have permissions to post in this space."),b()(t,V.titleAndContentEmpty,"Title and post may not be empty."),b()(t,V.titleTooLong,"Your title is too long."),b()(t,V.contentTooLong,"Your post is too long."),t)))};B.displayName="getPostAddToastContent";var H=function(e){function n(e){var t;return s()(this,n),(t=c()(this,g()(n).call(this,e))).postEditorRef=void 0,t.postEditorRef=T.createRef(),t.state={isSubmitting:!1},t}return f()(n,e),u()(n,[{key:"renderBody",value:function(){var e=this.props,n=e.queryResult,t=e.extraProps;if(!n)return null;var a=n.tribe;if(!a)return null;var l=!(!t||!t.parentPostId)&&t.parentPostId?Object(C.I)(T.createElement(T.Fragment,null,"Reply...")):Object(C.I)(T.createElement(T.Fragment,null,"Say something to ",T.createElement(A.a,{tribe:a}),"..."));return T.createElement(w.d,null,T.createElement(U,{ref:this.postEditorRef,bodyPlaceholder:l,tribe:a}))}},{key:"submit",value:function(e){this.submitPost(e)}},{key:"parseMutationResults",value:function(e){var n,t,a=e.postAdd,l=a.post,i=void 0===l?null:l,r=a.share,s=void 0===r?null:r,o=a.failureType,u=a.success;return{tribeItemId:(null===i||void 0===i?void 0:null===(n=i.tribeItem)||void 0===n?void 0:n.tribeItemId)||(null===s||void 0===s?void 0:null===(t=s.tribeItem)||void 0===t?void 0:t.tribeItemId),success:u,failureType:o}}},{key:"getToastContent",value:function(e,n){return e?null:B(0,n)}},{key:"showPmsgAndMaybeDismissModal",value:function(e,n){var t=this.parseMutationResults(e),a=t.tribeItemId,l=t.success,i=t.failureType,r=this.getToastContent(l,i);r&&Object(F.a)({message:r,error:!l}),l&&n({tribeItemId:a})}},{key:"getDummyTitle",value:function(){var e=Object(M.p)("");return JSON.stringify(e)}},{key:"submitPost",value:function(e){var t=this,a=this.props,l=a.client,i=a.queryResult,r=a.extraProps;if(i){var s=null;"undefined"!==typeof r&&(s=r.parentPostId?r.parentPostId:null);var o=i.tribe;if(o){var u=this.postEditorRef.current.getSerializedQTextContent(),d=this.getDummyTitle();l.mutate({mutation:n.mutations.postAdd,variables:{tribeId:o.tribeId,title:d,content:u,shouldQueue:!1,parentPid:s}}).then(function(n){var a=n.data;t.showPmsgAndMaybeDismissModal(a,e),t.setState(function(){return{isSubmitting:!1}})})}}}},{key:"render",value:function(){var e=this,n=this.props.dismissModalFlow,t={text:Object(C.I)("Submit"),onClick:function(){e.state.isSubmitting||e.setState({isSubmitting:!0},function(){e.submit(n)})},disabled:this.state.isSubmitting,useHaptics:!0};return T.createElement(K.d,{navButton:"close",primaryButtonProps:t,hasPadding:!1,navButtonProps:{onClick:function(){n({})}}},T.createElement(w.d,{px:"large",pt:"medium"},this.renderBody()))}}]),n}(T.Component);H.queries={onLoad:void 0!==N?N:N=l},H.mutations={postAdd:void 0!==j?j:j=a};n["default"]=Object(E.b)(Object(E.e)(H))},gQkS:function(e,n,t){"use strict";t.r(n),t.d(n,"default",function(){return A});var a={};t.r(a),t.d(a,"default",function(){return k});var l={};t.r(l),t.d(l,"default",function(){return h});var i=t("8ZkK"),r=t.n(i),s=t("tQZz"),o=t.n(s),u=t("7eVb"),d=t.n(u),c=t("n3k3"),m=t.n(c),g=t("10u2"),p=t.n(g),f=function(){var e=[{kind:"LocalArgument",name:"disclaimer",type:"JSONString!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"userSetDisclaimer",storageKey:null,args:[{kind:"Variable",name:"disclaimer",variableName:"disclaimer"}],concreteType:"UserSetDisclaimer",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"errorMessage",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerDisclaimerEditorModal_userSetDisclaimer_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"AnswerDisclaimerEditorModal_userSetDisclaimer_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"AnswerDisclaimerEditorModal_userSetDisclaimer_Mutation",id:"7623b2684b8cc3509d81865ab66e8c0764e5a4b1967016c2cbabd2312772c2a0",text:null,metadata:{}}}}();f.hash="abbe26290ecff95557e38f5b0070a46c";var k=f,b=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},t=[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[e,n,{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"linkUrl",args:[{kind:"Literal",name:"name",value:"disclaimer"}],storageKey:'linkUrl(name:"disclaimer")'}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerDisclaimerEditorModalQuery",type:"QueryRoot",metadata:null,argumentDefinitions:[],selections:t},operation:{kind:"Operation",name:"AnswerDisclaimerEditorModalQuery",argumentDefinitions:[],selections:t},params:{operationKind:"query",name:"AnswerDisclaimerEditorModalQuery",id:"e3a93c2f4bddb4cf6849c1004fadd4cefde957ee26203ad8620e86f34b51faa5",text:null,metadata:{}}}}();b.hash="b46032be560615e263106be9301f2379";var y,v,h=b,S=t("q1tI"),T=t("zm58"),E=t("jufJ"),F=t("oJdr"),C=t("RA+f"),w=t("AFGi"),K=t("VyO/"),A=function(e){function n(){return r()(this,n),d()(this,m()(n).apply(this,arguments))}return p()(n,e),o()(n,[{key:"render",value:function(){var e=this,t=this.props.dismissModalFlow;return S.createElement(K.a,{mutation:n.mutations.setDisclaimer},function(n){return S.createElement(T.a,{editorKey:"answerDisclaimer",primaryButtonText:Object(E.I)("Create Disclaimer"),onPrimaryButtonClick:function(e){if(Object(w.k)(e))t();else{var a=JSON.stringify(e);n({variables:{disclaimer:a},onCompleted:function(e){if(e){var n=e.userSetDisclaimer,l=n.success,i=n.errorMessage;l?t({disclaimer:a}):i?Object(F.a)({message:Object(E.H)(i)}):Object(F.a)({message:Object(E.I)("Something went wrong.")})}}})}},onNavButtonClick:function(){t()},titleText:Object(E.I)("Create Your Disclaimer"),startingContent:e.getStartingContent(),hasPadding:!0,subtitleText:e.renderHeader()})})}},{key:"renderHeader",value:function(){var e=this.props.queryResult.viewer.network.linkUrl;return S.createElement(E.y,null,"You may create a personal disclaimer to be displayed below your answers. For more information, see"," ",S.createElement(C.p,{href:e,navStyle:"present"},"What are disclaimers on Quora?"))}},{key:"getStartingContent",value:function(){var e=this.props.disclaimer;return e?JSON.parse(e):Object(w.f)()}}]),n}(S.Component);A.displayName="AnswerDisclaimerEditorModal",A.queries={onLoad:void 0!==y?y:y=l},A.mutations={setDisclaimer:void 0!==v?v:v=a}},"gUk/":function(e,n,t){"use strict";t.r(n),t.d(n,"default",function(){return k});var a=t("8ZkK"),l=t.n(a),i=t("tQZz"),r=t.n(i),s=t("7eVb"),o=t.n(s),u=t("n3k3"),d=t.n(u),c=t("10u2"),m=t.n(c),g=t("q1tI"),p=t("SW3P"),f=t("zm58"),k=function(e){function n(){return l()(this,n),o()(this,d()(n).apply(this,arguments))}return m()(n,e),r()(n,[{key:"render",value:function(){var e=this.props,n=e.extraProps,t=e.dismissModalFlow;return g.createElement(f.a,Object.assign({onPrimaryButtonClick:function(e){return t({content:e})},onNavButtonClick:function(){return t({})}},n))}}],[{key:"useReactVersion",value:function(){return Object(p.a)("use_react_editor_modal")}}]),n}(g.Component)},oJdr:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var a=t("0xW3"),l=t("yju1"),i=function(e){var n=e.message,t=e.error,i=void 0!==t&&t,r=e.action,s=void 0===r?undefined:r;if(Object(a.isWebnodeLoaded)())Object(a.showWebnodePmsg)(n,i);else{var o="success";i&&(o="error"),Object(l.a)("showPMsg",{message:n,action:s,style:o})}}},ovGs:function(e,n,t){"use strict";t.d(n,"a",function(){return c}),t.d(n,"b",function(){return m}),t.d(n,"c",function(){return g}),t.d(n,"d",function(){return p}),t.d(n,"e",function(){return f}),t.d(n,"f",function(){return k}),t.d(n,"g",function(){return b}),t.d(n,"h",function(){return y}),t.d(n,"i",function(){return v}),t.d(n,"j",function(){return h}),t.d(n,"k",function(){return S}),t.d(n,"l",function(){return T}),t.d(n,"m",function(){return E});var a=t("q1tI"),l=t("jufJ"),i=t("dzmh"),r=t("zLpq"),s=t("59Xv"),o=t("rg3m"),u={icon:a.createElement(i.a,null)},d=function(e){var n=e.loader,t=e.stacked,i=void 0!==t&&t;return Object(o.b)({loader:n,loading:function(){return i?a.createElement(s.a,Object.assign({text:Object(l.I)("More")},u)):a.createElement(r.a,u)}})};d.displayName="OverflowMenuLoader";var c=d({loader:function(){return Promise.all([t.e("vendor"),t.e("component-OverflowMenus")]).then(t.bind(null,"5kbK"))}}),m=d({loader:function(){return Promise.all([t.e("vendor"),t.e("component-OverflowMenus")]).then(t.bind(null,"Gvvn"))}}),g=(d({loader:function(){return Promise.all([t.e("vendor"),t.e("component-OverflowMenus")]).then(t.bind(null,"SRcS"))}}),d({loader:function(){return Promise.all([t.e("vendor"),t.e("component-OverflowMenus")]).then(t.bind(null,"oMsX"))}})),p=d({loader:function(){return Promise.all([t.e("vendor"),t.e("component-OverflowMenus")]).then(t.bind(null,"OK/t"))}}),f=d({loader:function(){return Promise.all([t.e("vendor"),t.e("component-OverflowMenus")]).then(t.bind(null,"yIDn"))}}),k=d({loader:function(){return Promise.all([t.e("vendor"),t.e("component-OverflowMenus")]).then(t.bind(null,"Mrgk"))}}),b=function(e){var n=d({loader:function(){return Promise.all([t.e("vendor"),t.e("component-OverflowMenus")]).then(t.bind(null,"NE9M"))},stacked:e.stacked});return a.createElement(n,e)},y=d({loader:function(){return Promise.all([t.e("vendor"),t.e("component-OverflowMenus")]).then(t.bind(null,"HHuy"))}}),v=d({loader:function(){return Promise.all([t.e("vendor"),t.e("component-OverflowMenus")]).then(t.bind(null,"g9T5"))}}),h=d({loader:function(){return Promise.all([t.e("vendor"),t.e("component-OverflowMenus")]).then(t.bind(null,"5ljO"))}}),S=d({loader:function(){return Promise.all([t.e("vendor"),t.e("component-OverflowMenus")]).then(t.bind(null,"0rZ+"))}}),T=function(e){var n=d({loader:function(){return Promise.all([t.e("vendor"),t.e("component-OverflowMenus")]).then(t.bind(null,"zEqk"))},stacked:e.stacked});return a.createElement(n,e)},E=d({loader:function(){return Promise.all([t.e("vendor"),t.e("component-OverflowMenus")]).then(t.bind(null,"dXGc"))}})},sP50:function(e,n,t){"use strict";var a={};t.r(a),t.d(a,"default",function(){return S});var l={};t.r(l),t.d(l,"default",function(){return E});var i={};t.r(i),t.d(i,"default",function(){return A});var r=t("jQsN"),s=t.n(r),o=t("tcRq"),u=t.n(o),d=t("8ZkK"),c=t.n(d),m=t("tQZz"),g=t.n(m),p=t("7eVb"),f=t.n(p),k=t("n3k3"),b=t.n(k),y=t("10u2"),v=t.n(y),h=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"AudiencePickerSelector_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanContribute",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanCreateContentQueueItem",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"settings",storageKey:null,args:null,concreteType:"TribeSettings",plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"isSubmissionEnabled",args:[{kind:"Literal",name:"contentType",value:49},{kind:"Literal",name:"isExternalHyperlinkShareSubmission",value:!0}],storageKey:"isSubmissionEnabled(contentType:49,isExternalHyperlinkShareSubmission:true)"}]},{kind:"FragmentSpread",name:"TribeIcon_tribe",args:null},{kind:"FragmentSpread",name:"TribeName_tribe",args:null}]}}();h.hash="dd67b13c26901dec240e3cd143b7160d";var S=h,T=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},t=[e,n,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanContribute",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanCreateContentQueueItem",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"settings",storageKey:null,args:null,concreteType:"TribeSettings",plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"isSubmissionEnabled",args:[{kind:"Literal",name:"contentType",value:49},{kind:"Literal",name:"isExternalHyperlinkShareSubmission",value:!0}],storageKey:"isSubmissionEnabled(contentType:49,isExternalHyperlinkShareSubmission:true)"}]},{kind:"FragmentSpread",name:"TribeIcon_tribe",args:null},{kind:"FragmentSpread",name:"TribeName_tribe",args:null}];return{kind:"Fragment",name:"AudiencePickerSelector_viewer",type:"Viewer",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"LinkedField",alias:null,name:"audiencePickerTribesUserCanShareTo",storageKey:"audiencePickerTribesUserCanShareTo(contentType:44)",args:[{kind:"Literal",name:"contentType",value:44}],concreteType:"AudiencePickerTribesUserCanShareTo",plural:!1,selections:[e,n,{kind:"LinkedField",alias:null,name:"recentlyVisited",storageKey:null,args:null,concreteType:"Tribe",plural:!0,selections:t},{kind:"LinkedField",alias:null,name:"recommended",storageKey:null,args:null,concreteType:"Tribe",plural:!0,selections:t}]}]}}();T.hash="b6403d5318d47d644428737ddcdaff66";var E=T,F=function(){var e=[{kind:"LocalArgument",name:"query",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"contentType",type:"BigInt!",defaultValue:null}],n=[{kind:"Variable",name:"contextOid",variableName:"contentType"},{kind:"Literal",name:"limit",value:10},{kind:"Variable",name:"query",variableName:"query"},{kind:"Literal",name:"querySource",value:7},{kind:"Literal",name:"queryType",value:41}],t={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"viewerCanContribute",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"viewerCanCreateContentQueueItem",args:null,storageKey:null},u={kind:"LinkedField",alias:null,name:"settings",storageKey:null,args:null,concreteType:"TribeSettings",plural:!1,selections:[t,a,{kind:"ScalarField",alias:null,name:"isSubmissionEnabled",args:[{kind:"Literal",name:"contentType",value:49},{kind:"Literal",name:"isExternalHyperlinkShareSubmission",value:!0}],storageKey:"isSubmissionEnabled(contentType:49,isExternalHyperlinkShareSubmission:true)"}]};return{kind:"Request",fragment:{kind:"Fragment",name:"AudiencePickerSelectorQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"searchQuery",storageKey:null,args:n,concreteType:null,plural:!0,selections:[t,a,{kind:"InlineFragment",type:"TribeSearchResult",selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[t,a,l,i,r,s,o,u,{kind:"FragmentSpread",name:"TribeIcon_tribe",args:null},{kind:"FragmentSpread",name:"TribeName_tribe",args:null}]}]}]}]},operation:{kind:"Operation",name:"AudiencePickerSelectorQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"searchQuery",storageKey:null,args:n,concreteType:null,plural:!0,selections:[t,a,{kind:"InlineFragment",type:"TribeSearchResult",selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[t,a,l,i,{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"iconUrl",args:[{kind:"Literal",name:"size",value:100}],storageKey:"iconUrl(size:100)"},r,s,o,u]}]}]}]},params:{operationKind:"query",name:"AudiencePickerSelectorQuery",id:"9fedb9f300a07a6bf602febfefc9e268ec6e925c4302fc80a203867750623331",text:null,metadata:{}}}}();F.hash="99e98c5f3d6a0c1f483b8195de56d2a9";var C,w,K,A=F,I=t("q1tI"),L=t("RA+f"),_=t("cztr"),O=t("MI6j"),q=t("jufJ"),Q=t("n2ec"),P=t("PuWf"),M=t("AFGi"),D=t("f25W"),x=t("06DM"),R=t("AjMn"),N=t("HEDm"),j=t("nwxp"),V=t("VyO/"),U=void 0!==C?C:C=i,B=function(e){function n(e){var t;return c()(this,n),(t=f()(this,b()(n).call(this,e))).handleOnSelect=function(e){var n,a,l=e.title,i=e.data;null===(n=(a=t.props).onSelectorChange)||void 0===n||n.call(a,i),t.setState({input:l})},t.handleInputChange=function(e){t.setState({input:e})},t.clearInput=function(){t.setState({input:""})},t.state={input:""},t}return v()(n,e),g()(n,[{key:"render",value:function(){var e,n=this,t=[],a=this.props.viewer.audiencePickerTribesUserCanShareTo||{},l=a.recentlyVisited,i=a.recommended;if(t.push({item:I.createElement(O.a,{icon:I.createElement(N.a,{color:"blue"},I.createElement(R.a,null)),mainText:Object(q.I)("Your followers")}),title:Object(q.I)("Your followers"),data:{tribe:null,hyperlinkShareToFollowers:!0}}),l&&0!==l.length){t.push({item:I.createElement(x.a,{fontSize:"small",mt:"small",titleText:Object(q.I)("Recently visited spaces")}),title:Object(q.I)("Recently visited spaces"),data:{tribe:null,hyperlinkShareToFollowers:!1},disabled:!0});for(var r=0;r<l.length;r++){var o=l[r];t.push({item:I.createElement(O.a,{icon:I.createElement(Q.a,{linked:!1,tribe:o,includeHovercard:!1}),mainText:I.createElement(P.a,{tribe:o})}),title:Object(q.J)(Object(M.n)(o.name)),data:{tribe:o,hyperlinkShareToFollowers:!1}})}}if(i&&0!==i.length){t.push({item:I.createElement(O.a,{mainText:Object(q.I)("Recommended spaces")}),title:Object(q.I)(""),data:{tribe:null,hyperlinkShareToFollowers:!1}});for(var d=0;d<i.length;d++){var c=i[d];t.push({item:I.createElement(O.a,{icon:I.createElement(Q.a,{linked:!1,tribe:c,includeHovercard:!1}),mainText:I.createElement(P.a,{tribe:c})}),title:Object(q.J)(Object(M.n)(c.name)),data:{tribe:c,hyperlinkShareToFollowers:!1}})}}return I.createElement(L.d,{borderTop:j.f,pt:null!==(e=j.f?"tiny":null)&&void 0!==e?e:undefined},I.createElement(_.a,{async:!0,options:u()(s.a.mark(function m(){var e,a,l,i,r,o,u,d;return s.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(n.state.input){s.next=2;break}return s.abrupt("return",t);case 2:return s.next=4,n.props.client.query({query:U,variables:{query:n.state.input,contentType:n.props.contentType},fetchPolicy:"store-or-network"});case 4:if(e=s.sent,a=e.data,l=[],a)for(i=0;i<a.searchQuery.length;i++)r=Object(q.I)(""),o=a.searchQuery[i],(u=o.tribe)&&(d=u.name,r=Object(q.J)(Object(M.n)(d))),l.push({item:I.createElement(H,{searchQuery:o}),data:{tribe:u,hyperlinkShareToFollowers:!1},title:r});return s.abrupt("return",l);case 9:case"end":return s.stop()}},m)})),inputPlaceholder:Object(q.I)("Choose a space"),limit:10,onInputChange:this.handleInputChange,onChange:this.handleOnSelect,autoFocus:!1,listComponent:L.f,inputWrapperProps:{variant:"small",icon:I.createElement(D.a,null),mt:j.f?"small":"tiny",ml:j.f?"medium":"tiny",mr:j.f?"medium":"tiny"},forceOpenMenu:!0,onFocus:this.clearInput,forceInputValue:this.state.input,listProps:{borderAll:!1}}))}}]),n}(I.Component);B.displayName="AudiencePickerSelector",B.fragments={viewer:void 0!==w?w:w=l},B.privateFragments={tribe:void 0!==K?K:K=a},B.queries={selector:U};n.a=Object(V.b)(Object(V.e)(B));var H=function(e){function n(){return c()(this,n),f()(this,b()(n).apply(this,arguments))}return v()(n,e),g()(n,[{key:"render",value:function(){var e=this.props.searchQuery.tribe;return e?I.createElement(O.a,{icon:I.createElement(Q.a,{linked:!1,tribe:e,includeHovercard:!1}),mainText:I.createElement(P.a,{tribe:e})}):null}}]),n}(I.Component);H.displayName="AudiencePickerSelectorResult"},xdZJ:function(e,n,t){"use strict";t.d(n,"a",function(){return a}),t.d(n,"b",function(){return l}),t.d(n,"c",function(){return d}),t.d(n,"d",function(){return c});var a,l,i=t("8meh"),r=t.n(i),s=t("jufJ"),o=t("q1tI");!function(e){e[e.none=0]="none",e[e.tooShortQuestion=1]="tooShortQuestion",e[e.improperQuestion=2]="improperQuestion",e[e.directQuestion=3]="directQuestion",e[e.anyoneQuestion=4]="anyoneQuestion",e[e.canAnyoneQuestion=5]="canAnyoneQuestion",e[e.badPunctuation=6]="badPunctuation",e[e.surveyQuestion=7]="surveyQuestion",e[e.whoCanQuestion=8]="whoCanQuestion",e[e.badSurveyPhrase=9]="badSurveyPhrase",e[e.wrongLanguage=10]="wrongLanguage",e[e.tooLongQuestion=11]="tooLongQuestion",e[e.missingQuestionMark=12]="missingQuestionMark",e[e.missingInvertedQuestionMark=13]="missingInvertedQuestionMark",e[e.wrongScript=71]="wrongScript",e[e.userBlocked=101]="userBlocked",e[e.questionExists=102]="questionExists",e[e.a2aFailure=103]="a2aFailure",e[e.anonRateLimit=104]="anonRateLimit",e[e.invalidSource=105]="invalidSource",e[e.unconfirmedEmailUserRateLimit=106]="unconfirmedEmailUserRateLimit",e[e.needsEmailConfirmation=107]="needsEmailConfirmation",e[e.seededQuestionDNE=109]="seededQuestionDNE",e[e.seededQuestionTooSimilar=110]="seededQuestionTooSimilar",e[e.translatedToTranslation=111]="translatedToTranslation",e[e.shouldBeTribeSubmission=112]="shouldBeTribeSubmission",e[e.shouldBeTribeContentQueueItem=113]="shouldBeTribeContentQueueItem"}(a||(a={})),function(e){e[e.none=0]="none",e[e.unconfirmedEmail=1]="unconfirmedEmail",e[e.noPermission=2]="noPermission",e[e.linkInvalid=3]="linkInvalid"}(l||(l={}));var u="This question should be more general. Try starting your question with 'What is...', 'How do I...' or 'Why does...'",d=function(e,n,t,l){var i;return e?t?Object(s.I)("Request sent."):Object(s.I)("Successfully asked question."):Object(s.I)(o.createElement(s.a,{value:n},(i={},r()(i,a.tooShortQuestion,"This question needs more detail. Add more information to ask a clear question, written as a complete sentence."),r()(i,a.tooLongQuestion,"This question should be shorter. Please rephrase the question to be a concise, easily understood question with fewer than 250 characters."),r()(i,a.improperQuestion,"This question should be a complete sentence."),r()(i,a.directQuestion,"This question should be a complete sentence."),r()(i,a.anyoneQuestion,u),r()(i,a.canAnyoneQuestion,u),r()(i,a.badPunctuation,"This question has extra question marks. Rewrite this question to end with single question mark."),r()(i,a.surveyQuestion,u),r()(i,a.whoCanQuestion,u),r()(i,a.badSurveyPhrase,"This question should be a complete sentence."),r()(i,a.missingQuestionMark,"This question should end with a question mark."),r()(i,a.missingInvertedQuestionMark,"This question should include an inverted question mark."),r()(i,a.userBlocked,"You have been blocked from adding questions."),r()(i,a.anonRateLimit,"You have written too many anonymous questions or answers. Please try again later."),r()(i,a.invalidSource,"The source should be a valid link."),r()(i,a.unconfirmedEmailUserRateLimit,"You have reached your question adding limit."),r()(i,a.needsEmailConfirmation,"Please confirm your email before adding anonymous questions."),r()(i,a.seededQuestionDNE,"Failed to add question."),r()(i,a.seededQuestionTooSimilar,"Failed to add question."),r()(i,a.translatedToTranslation,"This question already exists as a translation of another question."),r()(i,a.shouldBeTribeSubmission,"Successfully submitted to space."),r()(i,a.shouldBeTribeContentQueueItem,"You queued this successfully."),r()(i,a.questionExists,"This question has already been asked."),r()(i,a.a2aFailure,"Could not ask this user to answer this question."),r()(i,a.wrongScript,l?o.createElement(o.Fragment,null,"This question should be in ",o.createElement(s.s,{languageCode:l,nativeName:!0})):"This question is in the wrong language."),i)))},c=function(e,n){var t;return e?Object(s.I)("Successfully shared the link."):Object(s.I)(o.createElement(s.a,{value:n},(t={},r()(t,l.unconfirmedEmail,"Please confirm your email before adding a link."),r()(t,l.noPermission,"You do not have permission to add a link."),r()(t,l.linkInvalid,"This link is invalid. Enter a valid URL."),t)))}},xgmy:function(e,n,t){"use strict";var a=t("8ZkK"),l=t.n(a),i=t("tQZz"),r=t.n(i),s=t("7eVb"),o=t.n(s),u=t("n3k3"),d=t.n(u),c=t("10u2"),m=t.n(c),g=t("q1tI"),p=t("yX6U"),f=t("RA+f"),k=t("jufJ"),b=t("F6zL"),y=function(e){function n(){return l()(this,n),o()(this,d()(n).apply(this,arguments))}return m()(n,e),r()(n,[{key:"render",value:function(){var e=this,n=this.props.currentUrl||"";return g.createElement(f.d,{pt:"small"},g.createElement(b.c,{icon:g.createElement(p.a,null),variant:"small",noBorder:!0,placeholder:Object(k.I)("Optional: include a link that gives context"),value:n,onChange:function(n){return e.props.onSourceUrlChange(n.target.value)}}))}}]),n}(g.Component);y.displayName="AskQuestionSourceInput",n.a=y},yX6U:function(e,n,t){"use strict";var a=t("q1tI"),l=t.n(a),i=function(e){return l.a.createElement("svg",Object.assign({width:"20px",height:"20px",viewBox:"0 0 20 20"},e),l.a.createElement("title",null,"Artboard"),l.a.createElement("desc",null,"Created with Sketch."),l.a.createElement("defs",null),l.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},l.a.createElement("g",{id:"Artboard",fillRule:"nonzero",fill:"#666666"},l.a.createElement("g",{id:"link",transform:"translate(2.000000, 1.500000)"},l.a.createElement("path",{d:"M15.7618868,11.15625 L13.7603773,9.11625 C12.6762264,8.01125 11.0083019,7.84125 9.75735848,8.60625 L8.25622641,7.07625 C8.58981131,6.56625 8.75660376,5.97125 8.75660376,5.37625 C8.75660376,4.44125 8.42301886,3.59125 7.75584907,2.99625 L5.75433962,0.95625 C4.50339624,-0.31875 2.33509434,-0.31875 1.00075472,0.95625 C-0.333584905,2.31625 -0.333584905,4.44125 1.00075472,5.80125 L3.00226415,7.84125 C3.66943396,8.52125 4.50339624,8.86125 5.33735848,8.86125 C5.92113207,8.86125 6.50490565,8.69125 7.00528304,8.35125 L8.42301886,9.79625 C7.67245283,11.07125 7.83924528,12.77125 8.92339624,13.87625 L10.9249057,15.91625 C11.5920755,16.59625 12.4260377,16.93625 13.26,16.93625 C14.1773585,16.93625 15.0113208,16.59625 15.5950943,15.91625 C17.0962264,14.55625 17.0962264,12.43125 15.7618868,11.15625 Z M4.25320755,6.56625 L2.25169811,4.52625 C1.5845283,3.84625 1.5845283,2.82625 2.25169811,2.14625 C2.58528302,1.80625 3.00226415,1.63625 3.41924528,1.63625 C3.83622641,1.63625 4.25320755,1.80625 4.58679245,2.14625 L6.5883019,4.18625 C6.92188679,4.52625 7.08867924,4.95125 7.08867924,5.37625 C7.08867924,5.54625 7.08867924,5.63125 7.00528304,5.80125 L6.25471696,5.03625 L5.08716983,6.22625 L5.83773586,6.99125 C5.25396228,7.16125 4.67018869,6.99125 4.25320755,6.56625 Z M14.5943396,14.72625 C13.9271698,15.40625 12.8430189,15.40625 12.2592453,14.72625 L10.2577359,12.68625 C9.84075473,12.26125 9.67396228,11.58125 9.84075473,11.07125 L10.5913208,11.83625 L11.7588679,10.64625 L11.0083019,9.88125 C11.1750943,9.88125 11.2584906,9.79625 11.425283,9.79625 C11.8422641,9.79625 12.2592453,9.96625 12.5928302,10.30625 L14.5943396,12.34625 C15.2615095,12.94125 15.2615095,14.04625 14.5943396,14.72625 Z",id:"Page-1",transform:"translate(8.371356, 8.468125) scale(-1, 1) rotate(-180.000000) translate(-8.371356, -8.468125) "})))))};i.displayName="SvgLink",n.a=i},zm58:function(e,n,t){"use strict";t.d(n,"a",function(){return F});var a=t("8ZkK"),l=t.n(a),i=t("tQZz"),r=t.n(i),s=t("7eVb"),o=t.n(s),u=t("n3k3"),d=t.n(u),c=t("10u2"),m=t.n(c),g=t("q1tI"),p=t("sEfC"),f=t.n(p),k=t("nwxp"),b=t("yju1"),y=t("0xW3"),v=t("jufJ"),h=t("EreF"),S=t("AFGi"),T=t("K9ty"),E=t("RA+f"),F=function(e){function n(e){var t;return l()(this,n),(t=o()(this,d()(n).call(this,e))).editorRef=void 0,t.docHasChanged=void 0,t.debouncedSaveDraft=void 0,t.editorRef=g.createRef(),t.docHasChanged=!1,t.debouncedSaveDraft=f()(function(){t.props.saveDraft&&t.saveDraft(!0)},750,{maxWait:1e4,leading:!0}),t}return m()(n,e),r()(n,[{key:"componentDidMount",value:function(){var e=this;if(k.h){var n=this.props,t=n.saveDraft,a=n.onNavButtonClick;Object(y.handleEventFromWebnode)("qtextNativeSaveDraft",function(n){e.saveDraft(!1),a&&a(e.editorRef.current.save())}),Object(y.handleEventFromWebnode)("qtextNativeClearDraft",function(n){e.clearDraft(!1),a&&a(e.editorRef.current.save())}),Object(b.a)("setupEditor",{hasDraft:!!t})}}},{key:"saveDraft",value:function(e){var n=this.props.saveDraft;n&&(n(this.editorRef.current.save(),e),k.h&&!e&&Object(b.a)("draftSaveComplete",{success:!0}))}},{key:"clearDraft",value:function(e){var n=this.props,t=n.saveDraft,a=n.editorKey;t&&(t(Object(S.f)(),e),k.h&&Object(b.a)("draftClearComplete",{key:a,success:!0}))}},{key:"onNavButtonClick",value:function(){var e=this,n=this.props.onNavButtonClick;k.h&&this.docHasChanged?Object(b.a)("showActionSheet",{title:"",buttonTitles:[Object(v.I)("Clear Draft"),Object(v.I)("Save Draft"),Object(v.I)("Keep Editing")],destructiveButtonIndex:0},function(t){var a=t.buttonIndex;if(0===a)e.clearDraft(!1);else{if(1!==a)return;e.saveDraft(!1)}n&&n(e.editorRef.current.save())}):n&&n(this.editorRef.current.save())}},{key:"render",value:function(){var e=this,n=this.props,t=n.header,a=n.footer,l=n.placeholder,i=n.onPrimaryButtonClick,r=n.primaryButtonDisabled,s=n.editorKey,o=n.onFirstChange,u=n.startingContent,d=void 0===u?Object(S.f)():u,c=n.showToolbar,m=void 0===c||c,p=n.titleText,f=void 0===p?Object(v.I)("Editor"):p,b=n.primaryButtonText,y=void 0===b?Object(v.I)("Submit"):b,F=n.hasPadding,C=n.subtitleText;return g.createElement(T.d,{hasPadding:F,navButton:"back",footerExtra:a,primaryButtonProps:{text:y,onClick:function(){i&&i(e.editorRef.current.save())},disabled:r},navButtonProps:{onClick:function(){return e.onNavButtonClick()}},titleText:f,subtitleText:C},t,g.createElement(E.d,{height:k.b&&"50vh"},g.createElement(h.a,{placeholder:l,content:d,editorKey:s,ref:this.editorRef,onMeaningfulChange:function(){o&&!e.docHasChanged&&o(),e.docHasChanged=!0,e.debouncedSaveDraft()},toolbarOnWeb:m,toolbarOnMobile:m})))}}]),n}(g.Component);F.displayName="EditorModalLayout",F.defaultProps={hasPadding:!1}}}]);